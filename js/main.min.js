var homeWhatWeDoPromo,homeWhatsHappeningPromo,homeTrainingPromo,caseStudySlidePromo,whoWeArePromo,whatWeDoProduct,trainingExcellencePromo,trainingReviewPromo,whatWeDoSubpagePromo,whatWeDoSubpageAlsoLike,whatWeDoRangePromo,whatWeDoRangeProduct,whatsHappeningFirst,whatsHappeningPost,whatsHappeningSinglePost,rhiFinancingPromo,contactUsPromo;function shapes(){homeWhatWeDoPromo="M0,240 L200,240 220,220 0,220 0,176 264,176 280,160 280,-1 0,0 z",homeWhatsHappeningPromo="M0,240 L320,240 340,220 0,220 0,140 400,140 400,60 400,1 0,0 z",homeTrainingPromo="M260,220 L0,220 0,160 320,160 320,0 0,0 0,240 240,240 z",caseStudySlidePromo="M270,160 L270,0 0,0 0,240 190,240 210,220 0,220 0,160 z",whoWeArePromo="M420,180 L0,180 0,136 465,136 480,120 480,0 0,0 0,200 400,200 z",whatWeDoProduct="M400,120 L0,120 0,40 400,40 400,20 400,0 0,0 0,280 240,280 z",trainingExcellencePromo="M320,140 L320,130 320,0 0,0 0,240 241,240 260,220 0,220 0,140 z",trainingReviewPromo="M310,70 L320,60 320,0 0,0 0,140 240,140 260,120 0,120 0,70 z",whatWeDoSubpagePromo="M480,120 L480,60 480,0 0,0 0,200 400,200 430,170 0,170 0,120 z",whatWeDoSubpageAlsoLike="M562,217 L580,200 580,0 -2,0 0,280 500,280 520,260 0,260 0,217 z",whatWeDoRangePromo="M464,176 L480,160 480,0 0,0 0,240 400,240 420,220 0,220 0,176 z",whatWeDoRangeProduct="M382,260 L400,243 160,0 0,160 160,320 322,320 340,300 140,300 100,260 z",whatsHappeningFirst="M560,0 L400,0 0,400 520,400 560,360 z",whatsHappeningPost="M0,120 L520,120 560,80 560,0 0,0 z",whatsHappeningSinglePost="M310,140 L320,130 320,0 0,0 0,210 241,210 260,190 0,190 0,140 z",contactUsPromo=rhiFinancingPromo="M0,200 L400,200 430,170 0,170 0,120 480,120 480,0 0,0 z",window.innerWidth<=1279&&(homeWhatsHappeningPromo="M0,239 L220,239 240,219 0,219 0,139 300,139 300,59 300,0 0,-1 z",homeTrainingPromo="M240,220 L0,220 0,160 300,160 300,0 0,0 0,240 220,240 z",whoWeArePromo="M260,180 L0,180 0,136 305,136 320,120 320,0 0,0 0,200 240,200 z",whatWeDoSubpagePromo="M380,120 L380,60 380,0 0,0 0,200 300,200 330,170 0,170 0,120 z",whatWeDoSubpageAlsoLike="M422,217 L440,200 440,0 0,0 0,280 360,280 380,260 0,260 0,217 z",whatWeDoRangePromo="M412,176 L428,160 428,0 0,0 0,240 348,240 368,220 0,220 0,176 z",whatsHappeningFirst="M0,400 L410,400 450,360 450,0 400,0 z",whatsHappeningPost="M0,120 L410,120 450,80 450,0 0,0 z",contactUsPromo=rhiFinancingPromo="M0,200 L300,200 330,170 0,170 0,120 380,120 380,0 0,0 z"),window.innerWidth<=1024&&(homeWhatWeDoPromo="M0,200 L200,200 220,180 0,180 0,136 265,136 280,120 280,-1 0,0 z",whatWeDoProduct="M250,120 L0,120 0,40 250,40 250,20 250,0 0,0 0,280 90,280 z"),window.innerWidth<=768&&(homeWhatWeDoPromo="M0,180 L236,180 256,160 0,160 0,116 301,116 316,100 316,-1 0,0 z",trainingReviewPromo="M663,70 L673,60 673,0 0,0 0,140 593,140 613,120 0,120 0,70 z",whatWeDoSubpagePromo="M673,120 L673,60 673,0 0,0 0,200 593,200 623,170 0,170 0,120 z",whatWeDoSubpageAlsoLike="M655,217 L673,200 673,0 0,0 0,280 593,280 613,260 0,260 0,217 z",whatWeDoRangePromo="M657,176 L673,160 673,0 0,0 0,240 593,240 613,220 0,220 0,176 z",whatsHappeningPost="M0,120 L631,120 671,80 671,0 0,0 z",contactUsPromo=rhiFinancingPromo=whatsHappeningSinglePost=trainingExcellencePromo="M0,200 L593,200 623,170 0,170 0,120 673,120 673,0 0,0 z"),window.innerWidth<=767&&(homeWhatsHappeningPromo="M230,130 L0,130 0,80 280,80 280,0 0,0 0,140 220,140 z",caseStudySlidePromo="M280,80 L280,0 0,0 0,140 230,140 240,130 0,130 0,80 z",whatWeDoProduct="M280,120 L0,120 0,40 280,40 280,20 280,0 0,0 0,220 220,220 280,160 z",whatWeDoSubpageAlsoLike="M270,130 L280,120 280,0 0,0 0,180 220,180 230,170 0,170 0,130 z",whatWeDoRangeProduct=trainingExcellencePromo="M270,110 L280,100 280,0 0,0 0,160 220,160 230,150 0,150 0,110 z",whatsHappeningPost=whatsHappeningFirst="M0,100 L240,100 280,60 280,0 0,0 z",contactUsPromo=rhiFinancingPromo=whatsHappeningSinglePost=whatWeDoRangePromo=whatWeDoSubpagePromo=trainingReviewPromo=whoWeArePromo=homeTrainingPromo=homeWhatWeDoPromo="M0,120 L220,120 230,110 0,110 0,70 270,70 280,60 280,1 0,0 z")}!function(){"use strict";function e(e){e.fn.swiper=function(t){var i;return e(this).each(function(){var e=new D(this,t);i=i||e}),i}}var t,i,n,r,s,a,o,D=function(e,a){function w(){return"horizontal"===b.params.direction}function t(){b.autoplayTimeoutId=setTimeout(function(){b.params.loop?(b.fixLoop(),b._slideNext()):b.isEnd?a.autoplayStopOnLast?b.stopAutoplay():b._slideTo(0):b._slideNext()},b.params.autoplay)}function o(e,i){var t=_(e.target);if(!t.is(i))if("string"==typeof i)t=t.parents(i);else if(i.nodeType){var n;return t.parents().each(function(e,t){t===i&&(n=i)}),n?i:void 0}return 0===t.length?void 0:t[0]}function i(e,t){t=t||{};var i=new(window.MutationObserver||window.WebkitMutationObserver)(function(e){e.forEach(function(e){b.onResize(!0),b.emit("onObserverUpdate",b,e)})});i.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),b.observers.push(i)}function n(e){e.originalEvent&&(e=e.originalEvent);var t=e.keyCode||e.charCode;if(!b.params.allowSwipeToNext&&(w()&&39===t||!w()&&40===t))return!1;if(!b.params.allowSwipeToPrev&&(w()&&37===t||!w()&&38===t))return!1;if(!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===t||39===t||38===t||40===t){var i=!1;if(0<b.container.parents(".swiper-slide").length&&0===b.container.parents(".swiper-slide-active").length)return;for(var n=window.pageXOffset,r=window.pageYOffset,s=window.innerWidth,a=window.innerHeight,o=b.container.offset(),l=[[o.left,o.top],[o.left+b.width,o.top],[o.left,o.top+b.height],[o.left+b.width,o.top+b.height]],c=0;c<l.length;c++){var u=l[c];u[0]>=n&&u[0]<=n+s&&u[1]>=r&&u[1]<=r+a&&(i=!0)}if(!i)return}w()?(37!==t&&39!==t||(e.preventDefault?e.preventDefault():e.returnValue=!1),39===t&&b.slideNext(),37===t&&b.slidePrev()):(38!==t&&40!==t||(e.preventDefault?e.preventDefault():e.returnValue=!1),40===t&&b.slideNext(),38===t&&b.slidePrev())}}function r(e){e.originalEvent&&(e=e.originalEvent);var t=b._wheelEvent,i=0;if(e.detail)i=-e.detail;else if("mousewheel"===t)if(b.params.mousewheelForceToAxis)if(w()){if(!(Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)))return;i=e.wheelDeltaX}else{if(!(Math.abs(e.wheelDeltaY)>Math.abs(e.wheelDeltaX)))return;i=e.wheelDeltaY}else i=e.wheelDelta;else if("DOMMouseScroll"===t)i=-e.detail;else if("wheel"===t)if(b.params.mousewheelForceToAxis)if(w()){if(!(Math.abs(e.deltaX)>Math.abs(e.deltaY)))return;i=-e.deltaX}else{if(!(Math.abs(e.deltaY)>Math.abs(e.deltaX)))return;i=-e.deltaY}else i=Math.abs(e.deltaX)>Math.abs(e.deltaY)?-e.deltaX:-e.deltaY;if(b.params.freeMode){var n=b.getWrapperTranslate()+i;if(0<n&&(n=0),n<b.maxTranslate()&&(n=b.maxTranslate()),b.setWrapperTransition(0),b.setWrapperTranslate(n),b.updateProgress(),b.updateActiveIndex(),0===n||n===b.maxTranslate())return}else 60<(new window.Date).getTime()-b._lastWheelScrollTime&&(i<0?b.slideNext():b.slidePrev()),b._lastWheelScrollTime=(new window.Date).getTime();return b.params.autoplay&&b.stopAutoplay(),e.preventDefault?e.preventDefault():e.returnValue=!1,!1}function s(e,t){var i,n,r;i=(e=_(e)).attr("data-swiper-parallax")||"0",n=e.attr("data-swiper-parallax-x"),r=e.attr("data-swiper-parallax-y"),n||r?(n=n||"0",r=r||"0"):w()?(n=i,r="0"):(r=i,n="0"),n=0<=n.indexOf("%")?parseInt(n,10)*t+"%":n*t+"px",r=0<=r.indexOf("%")?parseInt(r,10)*t+"%":r*t+"px",e.transform("translate3d("+n+", "+r+",0px)")}function l(e){return 0!==e.indexOf("on")&&(e=e[0]!==e[0].toUpperCase()?"on"+e[0].toUpperCase()+e.substring(1):"on"+e),e}if(!(this instanceof D))return new D(e,a);var c={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeSticky:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,keyboardControl:!1,mousewheelControl:!1,mousewheelForceToAxis:!1,hashnav:!1,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,pagination:null,paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationHiddenClass:"swiper-pagination-hidden",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",runCallbacksOnInit:!0},u=a&&a.virtualTranslate;for(var d in a=a||{},c)if(void 0===a[d])a[d]=c[d];else if("object"==typeof a[d])for(var h in c[d])void 0===a[d][h]&&(a[d][h]=c[d][h]);var _,b=this;if(b.version="3.0.7",b.params=a,b.classNames=[],(_=void 0===I?window.Dom7||window.Zepto||window.jQuery:I)&&(b.$=_,b.container=_(e),0!==b.container.length)){if(1<b.container.length)return void b.container.each(function(){new D(this,a)});(b.container[0].swiper=b).container.data("swiper",b),b.classNames.push("swiper-container-"+b.params.direction),b.params.freeMode&&b.classNames.push("swiper-container-free-mode"),b.support.flexbox||(b.classNames.push("swiper-container-no-flexbox"),b.params.slidesPerColumn=1),(b.params.parallax||b.params.watchSlidesVisibility)&&(b.params.watchSlidesProgress=!0),0<=["cube","coverflow"].indexOf(b.params.effect)&&(b.support.transforms3d?(b.params.watchSlidesProgress=!0,b.classNames.push("swiper-container-3d")):b.params.effect="slide"),"slide"!==b.params.effect&&b.classNames.push("swiper-container-"+b.params.effect),"cube"===b.params.effect&&(b.params.resistanceRatio=0,b.params.slidesPerView=1,b.params.slidesPerColumn=1,b.params.slidesPerGroup=1,b.params.centeredSlides=!1,b.params.spaceBetween=0,b.params.virtualTranslate=!0,b.params.setWrapperSize=!1),"fade"===b.params.effect&&(b.params.slidesPerView=1,b.params.slidesPerColumn=1,b.params.slidesPerGroup=1,b.params.watchSlidesProgress=!0,void(b.params.spaceBetween=0)===u&&(b.params.virtualTranslate=!0)),b.params.grabCursor&&b.support.touch&&(b.params.grabCursor=!1),b.wrapper=b.container.children("."+b.params.wrapperClass),b.params.pagination&&(b.paginationContainer=_(b.params.pagination),b.params.paginationClickable&&b.paginationContainer.addClass("swiper-pagination-clickable")),b.rtl=w()&&("rtl"===b.container[0].dir.toLowerCase()||"rtl"===b.container.css("direction")),b.rtl&&b.classNames.push("swiper-container-rtl"),b.rtl&&(b.wrongRTL="-webkit-box"===b.wrapper.css("display")),1<b.params.slidesPerColumn&&b.classNames.push("swiper-container-multirow"),b.device.android&&b.classNames.push("swiper-container-android"),b.container.addClass(b.classNames.join(" ")),b.translate=0,b.progress=0,b.velocity=0,b.lockSwipeToNext=function(){b.params.allowSwipeToNext=!1},b.lockSwipeToPrev=function(){b.params.allowSwipeToPrev=!1},b.lockSwipes=function(){b.params.allowSwipeToNext=b.params.allowSwipeToPrev=!1},b.unlockSwipeToNext=function(){b.params.allowSwipeToNext=!0},b.unlockSwipeToPrev=function(){b.params.allowSwipeToPrev=!0},b.unlockSwipes=function(){b.params.allowSwipeToNext=b.params.allowSwipeToPrev=!0},b.params.grabCursor&&(b.container[0].style.cursor="move",b.container[0].style.cursor="-webkit-grab",b.container[0].style.cursor="-moz-grab",b.container[0].style.cursor="grab"),b.imagesToLoad=[],b.imagesLoaded=0,b.loadImage=function(e,t,i,n){function r(){n&&n()}var s;e.complete&&i?r():t?((s=new window.Image).onload=r,s.onerror=r,s.src=t):r()},b.preloadImages=function(){function e(){null!=b&&(void 0!==b.imagesLoaded&&b.imagesLoaded++,b.imagesLoaded===b.imagesToLoad.length&&(b.params.updateOnImagesReady&&b.update(),b.emit("onImagesReady",b)))}b.imagesToLoad=b.container.find("img");for(var t=0;t<b.imagesToLoad.length;t++)b.loadImage(b.imagesToLoad[t],b.imagesToLoad[t].currentSrc||b.imagesToLoad[t].getAttribute("src"),!0,e)},b.autoplayTimeoutId=void 0,b.autoplaying=!1,b.autoplayPaused=!1,b.startAutoplay=function(){return void 0===b.autoplayTimeoutId&&(!!b.params.autoplay&&(!b.autoplaying&&(b.autoplaying=!0,b.emit("onAutoplayStart",b),void t())))},b.stopAutoplay=function(e){b.autoplayTimeoutId&&(b.autoplayTimeoutId&&clearTimeout(b.autoplayTimeoutId),b.autoplaying=!1,b.autoplayTimeoutId=void 0,b.emit("onAutoplayStop",b))},b.pauseAutoplay=function(e){b.autoplayPaused||(b.autoplayTimeoutId&&clearTimeout(b.autoplayTimeoutId),b.autoplayPaused=!0,0===e?(b.autoplayPaused=!1,t()):b.wrapper.transitionEnd(function(){b&&(b.autoplayPaused=!1,b.autoplaying?t():b.stopAutoplay())}))},b.minTranslate=function(){return-b.snapGrid[0]},b.maxTranslate=function(){return-b.snapGrid[b.snapGrid.length-1]},b.updateContainerSize=function(){var e,t;e=void 0!==b.params.width?b.params.width:b.container[0].clientWidth,t=void 0!==b.params.height?b.params.height:b.container[0].clientHeight,0===e&&w()||0===t&&!w()||(b.width=e,b.height=t,b.size=w()?b.width:b.height)},b.updateSlidesSize=function(){b.slides=b.wrapper.children("."+b.params.slideClass),b.snapGrid=[],b.slidesGrid=[],b.slidesSizesGrid=[];var e,t,i,n,r=b.params.spaceBetween,s=0,a=0,o=0;for("string"==typeof r&&0<=r.indexOf("%")&&(r=parseFloat(r.replace("%",""))/100*b.size),b.virtualSize=-r,b.slides.css(b.rtl?{marginLeft:"",marginTop:""}:{marginRight:"",marginBottom:""}),1<b.params.slidesPerColumn&&(t=Math.floor(b.slides.length/b.params.slidesPerColumn)===b.slides.length/b.params.slidesPerColumn?b.slides.length:Math.ceil(b.slides.length/b.params.slidesPerColumn)*b.params.slidesPerColumn),e=0;e<b.slides.length;e++){i=0;var l=b.slides.eq(e);if(1<b.params.slidesPerColumn){var c,u,d,h,p=b.params.slidesPerColumn;"column"===b.params.slidesPerColumnFill?(c=(u=Math.floor(e/p))+(d=e-u*p)*t/p,l.css({"-webkit-box-ordinal-group":c,"-moz-box-ordinal-group":c,"-ms-flex-order":c,"-webkit-order":c,order:c})):(h=t/p,u=e-(d=Math.floor(e/h))*h),l.css({"margin-top":0!==d&&b.params.spaceBetween&&b.params.spaceBetween+"px"}).attr("data-swiper-column",u).attr("data-swiper-row",d)}"none"!==l.css("display")&&("auto"===b.params.slidesPerView?i=w()?l.outerWidth(!0):l.outerHeight(!0):(i=(b.size-(b.params.slidesPerView-1)*r)/b.params.slidesPerView,w()?b.slides[e].style.width=i+"px":b.slides[e].style.height=i+"px"),b.slides[e].swiperSlideSize=i,b.slidesSizesGrid.push(i),b.params.centeredSlides?(s=s+i/2+a/2+r,0===e&&(s=s-b.size/2-r),Math.abs(s)<.001&&(s=0),o%b.params.slidesPerGroup==0&&b.snapGrid.push(s),b.slidesGrid.push(s)):(o%b.params.slidesPerGroup==0&&b.snapGrid.push(s),b.slidesGrid.push(s),s=s+i+r),b.virtualSize+=i+r,a=i,o++)}if(b.virtualSize=Math.max(b.virtualSize,b.size),b.rtl&&b.wrongRTL&&("slide"===b.params.effect||"coverflow"===b.params.effect)&&b.wrapper.css({width:b.virtualSize+b.params.spaceBetween+"px"}),b.support.flexbox&&!b.params.setWrapperSize||b.wrapper.css(w()?{width:b.virtualSize+b.params.spaceBetween+"px"}:{height:b.virtualSize+b.params.spaceBetween+"px"}),1<b.params.slidesPerColumn&&(b.virtualSize=(i+b.params.spaceBetween)*t,b.virtualSize=Math.ceil(b.virtualSize/b.params.slidesPerColumn)-b.params.spaceBetween,b.wrapper.css({width:b.virtualSize+b.params.spaceBetween+"px"}),b.params.centeredSlides)){for(n=[],e=0;e<b.snapGrid.length;e++)b.snapGrid[e]<b.virtualSize+b.snapGrid[0]&&n.push(b.snapGrid[e]);b.snapGrid=n}if(!b.params.centeredSlides){for(n=[],e=0;e<b.snapGrid.length;e++)b.snapGrid[e]<=b.virtualSize-b.size&&n.push(b.snapGrid[e]);b.snapGrid=n,Math.floor(b.virtualSize-b.size)>Math.floor(b.snapGrid[b.snapGrid.length-1])&&b.snapGrid.push(b.virtualSize-b.size)}0===b.snapGrid.length&&(b.snapGrid=[0]),0!==b.params.spaceBetween&&b.slides.css(w()?b.rtl?{marginLeft:r+"px"}:{marginRight:r+"px"}:{marginBottom:r+"px"}),b.params.watchSlidesProgress&&b.updateSlidesOffset()},b.updateSlidesOffset=function(){for(var e=0;e<b.slides.length;e++)b.slides[e].swiperSlideOffset=w()?b.slides[e].offsetLeft:b.slides[e].offsetTop},b.updateSlidesProgress=function(e){if(void 0===e&&(e=b.translate||0),0!==b.slides.length){void 0===b.slides[0].swiperSlideOffset&&b.updateSlidesOffset();var t=b.params.centeredSlides?-e+b.size/2:-e;b.rtl&&(t=b.params.centeredSlides?e-b.size/2:e),b.container[0].getBoundingClientRect(),w(),w(),b.slides.removeClass(b.params.slideVisibleClass);for(var i=0;i<b.slides.length;i++){var n=b.slides[i],r=!0===b.params.centeredSlides?n.swiperSlideSize/2:0,s=(t-n.swiperSlideOffset-r)/(n.swiperSlideSize+b.params.spaceBetween);if(b.params.watchSlidesVisibility){var a=-(t-n.swiperSlideOffset-r),o=a+b.slidesSizesGrid[i];(0<=a&&a<b.size||0<o&&o<=b.size||a<=0&&o>=b.size)&&b.slides.eq(i).addClass(b.params.slideVisibleClass)}n.progress=b.rtl?-s:s}}},b.updateProgress=function(e){void 0===e&&(e=b.translate||0);var t=b.maxTranslate()-b.minTranslate();0==t?(b.progress=0,b.isBeginning=b.isEnd=!0):(b.progress=(e-b.minTranslate())/t,b.isBeginning=b.progress<=0,b.isEnd=1<=b.progress),b.isBeginning&&b.emit("onReachBeginning",b),b.isEnd&&b.emit("onReachEnd",b),b.params.watchSlidesProgress&&b.updateSlidesProgress(e),b.emit("onProgress",b,b.progress)},b.updateActiveIndex=function(){var e,t,i,n=b.rtl?b.translate:-b.translate;for(t=0;t<b.slidesGrid.length;t++)void 0!==b.slidesGrid[t+1]?n>=b.slidesGrid[t]&&n<b.slidesGrid[t+1]-(b.slidesGrid[t+1]-b.slidesGrid[t])/2?e=t:n>=b.slidesGrid[t]&&n<b.slidesGrid[t+1]&&(e=t+1):n>=b.slidesGrid[t]&&(e=t);(e<0||void 0===e)&&(e=0),(i=Math.floor(e/b.params.slidesPerGroup))>=b.snapGrid.length&&(i=b.snapGrid.length-1),e!==b.activeIndex&&(b.snapIndex=i,b.previousIndex=b.activeIndex,b.activeIndex=e,b.updateClasses())},b.updateClasses=function(){b.slides.removeClass(b.params.slideActiveClass+" "+b.params.slideNextClass+" "+b.params.slidePrevClass);var e,t=b.slides.eq(b.activeIndex);t.addClass(b.params.slideActiveClass),t.next("."+b.params.slideClass).addClass(b.params.slideNextClass),t.prev("."+b.params.slideClass).addClass(b.params.slidePrevClass),b.bullets&&0<b.bullets.length&&(b.bullets.removeClass(b.params.bulletActiveClass),b.params.loop?((e=Math.ceil(b.activeIndex-b.loopedSlides)/b.params.slidesPerGroup)>b.slides.length-1-2*b.loopedSlides&&(e-=b.slides.length-2*b.loopedSlides),e>b.bullets.length-1&&(e-=b.bullets.length)):e=void 0!==b.snapIndex?b.snapIndex:b.activeIndex||0,1<b.paginationContainer.length?b.bullets.each(function(){_(this).index()===e&&_(this).addClass(b.params.bulletActiveClass)}):b.bullets.eq(e).addClass(b.params.bulletActiveClass));b.params.loop||(b.params.prevButton&&(b.isBeginning?(_(b.params.prevButton).addClass(b.params.buttonDisabledClass),b.params.a11y&&b.a11y&&b.a11y.disable(_(b.params.prevButton))):(_(b.params.prevButton).removeClass(b.params.buttonDisabledClass),b.params.a11y&&b.a11y&&b.a11y.enable(_(b.params.prevButton)))),b.params.nextButton&&(b.isEnd?(_(b.params.nextButton).addClass(b.params.buttonDisabledClass),b.params.a11y&&b.a11y&&b.a11y.disable(_(b.params.nextButton))):(_(b.params.nextButton).removeClass(b.params.buttonDisabledClass),b.params.a11y&&b.a11y&&b.a11y.enable(_(b.params.nextButton)))))},b.updatePagination=function(){if(b.params.pagination&&b.paginationContainer&&0<b.paginationContainer.length){for(var e="",t=b.params.loop?Math.ceil((b.slides.length-2*b.loopedSlides)/b.params.slidesPerGroup):b.snapGrid.length,i=0;i<t;i++)e+=b.params.paginationBulletRender?b.params.paginationBulletRender(i,b.params.bulletClass):'<span class="'+b.params.bulletClass+'"></span>';b.paginationContainer.html(e),b.bullets=b.paginationContainer.find("."+b.params.bulletClass)}},b.update=function(e){function t(){i=Math.min(Math.max(b.translate,b.maxTranslate()),b.minTranslate()),b.setWrapperTranslate(i),b.updateActiveIndex(),b.updateClasses()}var i;b.updateContainerSize(),b.updateSlidesSize(),b.updateProgress(),b.updatePagination(),b.updateClasses(),b.params.scrollbar&&b.scrollbar&&b.scrollbar.set(),e&&(b.params.freeMode?t():("auto"===b.params.slidesPerView&&b.isEnd&&!b.params.centeredSlides?b.slideTo(b.slides.length-1,0,!1,!0):b.slideTo(b.activeIndex,0,!1,!0))||t())},b.onResize=function(e){if(b.updateContainerSize(),b.updateSlidesSize(),b.updateProgress(),("auto"===b.params.slidesPerView||b.params.freeMode||e)&&b.updatePagination(),b.params.scrollbar&&b.scrollbar&&b.scrollbar.set(),b.params.freeMode){var t=Math.min(Math.max(b.translate,b.maxTranslate()),b.minTranslate());b.setWrapperTranslate(t),b.updateActiveIndex(),b.updateClasses()}else b.updateClasses(),"auto"===b.params.slidesPerView&&b.isEnd&&!b.params.centeredSlides?b.slideTo(b.slides.length-1,0,!1,!0):b.slideTo(b.activeIndex,0,!1,!0)};var p=["mousedown","mousemove","mouseup"];window.navigator.pointerEnabled?p=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(p=["MSPointerDown","MSPointerMove","MSPointerUp"]),b.touchEvents={start:b.support.touch||!b.params.simulateTouch?"touchstart":p[0],move:b.support.touch||!b.params.simulateTouch?"touchmove":p[1],end:b.support.touch||!b.params.simulateTouch?"touchend":p[2]},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===b.params.touchEventsTarget?b.container:b.wrapper).addClass("swiper-wp8-"+b.params.direction),b.initEvents=function(e){var t=e?"off":"on",i=e?"removeEventListener":"addEventListener",n="container"===b.params.touchEventsTarget?b.container[0]:b.wrapper[0],r=b.support.touch?n:document,s=!!b.params.nested;b.browser.ie?(n[i](b.touchEvents.start,b.onTouchStart,!1),r[i](b.touchEvents.move,b.onTouchMove,s),r[i](b.touchEvents.end,b.onTouchEnd,!1)):(b.support.touch&&(n[i](b.touchEvents.start,b.onTouchStart,!1),n[i](b.touchEvents.move,b.onTouchMove,s),n[i](b.touchEvents.end,b.onTouchEnd,!1)),!a.simulateTouch||b.device.ios||b.device.android||(n[i]("mousedown",b.onTouchStart,!1),document[i]("mousemove",b.onTouchMove,s),document[i]("mouseup",b.onTouchEnd,!1))),window[i]("resize",b.onResize),b.params.nextButton&&(_(b.params.nextButton)[t]("click",b.onClickNext),b.params.a11y&&b.a11y&&_(b.params.nextButton)[t]("keydown",b.a11y.onEnterKey)),b.params.prevButton&&(_(b.params.prevButton)[t]("click",b.onClickPrev),b.params.a11y&&b.a11y&&_(b.params.prevButton)[t]("keydown",b.a11y.onEnterKey)),b.params.pagination&&b.params.paginationClickable&&_(b.paginationContainer)[t]("click","."+b.params.bulletClass,b.onClickIndex),(b.params.preventClicks||b.params.preventClicksPropagation)&&n[i]("click",b.preventClicks,!0)},b.attachEvents=function(e){b.initEvents()},b.detachEvents=function(){b.initEvents(!0)},b.allowClick=!0,b.preventClicks=function(e){b.allowClick||(b.params.preventClicks&&e.preventDefault(),b.params.preventClicksPropagation&&(e.stopPropagation(),e.stopImmediatePropagation()))},b.onClickNext=function(e){e.preventDefault(),b.slideNext()},b.onClickPrev=function(e){e.preventDefault(),b.slidePrev()},b.onClickIndex=function(e){e.preventDefault();var t=_(this).index()*b.params.slidesPerGroup;b.params.loop&&(t+=b.loopedSlides),b.slideTo(t)},b.updateClickedSlide=function(e){var t=o(e,"."+b.params.slideClass),i=!1;if(t)for(var n=0;n<b.slides.length;n++)b.slides[n]===t&&(i=!0);if(!t||!i)return b.clickedSlide=void 0,void(b.clickedIndex=void 0);if(b.clickedSlide=t,b.clickedIndex=_(t).index(),b.params.slideToClickedSlide&&void 0!==b.clickedIndex&&b.clickedIndex!==b.activeIndex){var r,s=b.clickedIndex;if(b.params.loop)if(r=_(b.clickedSlide).attr("data-swiper-slide-index"),s>b.slides.length-b.params.slidesPerView)b.fixLoop(),s=b.wrapper.children("."+b.params.slideClass+'[data-swiper-slide-index="'+r+'"]').eq(0).index(),setTimeout(function(){b.slideTo(s)},0);else if(s<b.params.slidesPerView-1){b.fixLoop();var a=b.wrapper.children("."+b.params.slideClass+'[data-swiper-slide-index="'+r+'"]');s=a.eq(a.length-1).index(),setTimeout(function(){b.slideTo(s)},0)}else b.slideTo(s);else b.slideTo(s)}};var x,S,j,f,T,k,m,C,E,v,g,y="input, select, textarea, button",M=Date.now(),P=[];if(b.animating=!1,b.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0},b.onTouchStart=function(e){if(e.originalEvent&&(e=e.originalEvent),(v="touchstart"===e.type)||!("which"in e)||3!==e.which){if(b.params.noSwiping&&o(e,"."+b.params.noSwipingClass))return void(b.allowClick=!0);if(!b.params.swipeHandler||o(e,b.params.swipeHandler)){if(S=!(x=!0),g=f=void 0,b.touches.startX=b.touches.currentX="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,b.touches.startY=b.touches.currentY="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,j=Date.now(),b.allowClick=!0,b.updateContainerSize(),b.swipeDirection=void 0,0<b.params.threshold&&(m=!1),"touchstart"!==e.type){var t=!0;_(e.target).is(y)&&(t=!1),document.activeElement&&_(document.activeElement).is(y)&&document.activeElement.blur(),t&&e.preventDefault()}b.emit("onTouchStart",b,e)}}},b.onTouchMove=function(e){if(e.originalEvent&&(e=e.originalEvent),!(v&&"mousemove"===e.type||e.preventedByNestedSwiper)){if(b.params.onlyExternal)return S=!0,void(b.allowClick=!1);if(v&&document.activeElement&&e.target===document.activeElement&&_(e.target).is(y))return S=!0,void(b.allowClick=!1);if(b.emit("onTouchMove",b,e),!(e.targetTouches&&1<e.targetTouches.length)){if(b.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,b.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,void 0===f){var t=180*Math.atan2(Math.abs(b.touches.currentY-b.touches.startY),Math.abs(b.touches.currentX-b.touches.startX))/Math.PI;f=w()?t>b.params.touchAngle:90-t>b.params.touchAngle}if(f&&b.emit("onTouchMoveOpposite",b,e),void 0!==g||!b.browser.ieTouch||b.touches.currentX===b.touches.startX&&b.touches.currentY===b.touches.startY||(g=!0),x){if(f)return void(x=!1);if(g||!b.browser.ieTouch){b.allowClick=!1,b.emit("onSliderMove",b,e),e.preventDefault(),b.params.touchMoveStopPropagation&&!b.params.nested&&e.stopPropagation(),S||(a.loop&&b.fixLoop(),k=b.getWrapperTranslate(),b.setWrapperTransition(0),b.animating&&b.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),b.params.autoplay&&b.autoplaying&&(b.params.autoplayDisableOnInteraction?b.stopAutoplay():b.pauseAutoplay()),E=!1,b.params.grabCursor&&(b.container[0].style.cursor="move",b.container[0].style.cursor="-webkit-grabbing",b.container[0].style.cursor="-moz-grabbin",b.container[0].style.cursor="grabbing")),S=!0;var i=b.touches.diff=w()?b.touches.currentX-b.touches.startX:b.touches.currentY-b.touches.startY;i*=b.params.touchRatio,b.rtl&&(i=-i),b.swipeDirection=0<i?"prev":"next",T=i+k;var n=!0;if(0<i&&T>b.minTranslate()?(n=!1,b.params.resistance&&(T=b.minTranslate()-1+Math.pow(-b.minTranslate()+k+i,b.params.resistanceRatio))):i<0&&T<b.maxTranslate()&&(n=!1,b.params.resistance&&(T=b.maxTranslate()+1-Math.pow(b.maxTranslate()-k-i,b.params.resistanceRatio))),n&&(e.preventedByNestedSwiper=!0),!b.params.allowSwipeToNext&&"next"===b.swipeDirection&&T<k&&(T=k),!b.params.allowSwipeToPrev&&"prev"===b.swipeDirection&&k<T&&(T=k),b.params.followFinger){if(0<b.params.threshold){if(!(Math.abs(i)>b.params.threshold||m))return void(T=k);if(!m)return m=!0,b.touches.startX=b.touches.currentX,b.touches.startY=b.touches.currentY,T=k,void(b.touches.diff=w()?b.touches.currentX-b.touches.startX:b.touches.currentY-b.touches.startY)}(b.params.freeMode||b.params.watchSlidesProgress)&&b.updateActiveIndex(),b.params.freeMode&&(0===P.length&&P.push({position:b.touches[w()?"startX":"startY"],time:j}),P.push({position:b.touches[w()?"currentX":"currentY"],time:(new window.Date).getTime()})),b.updateProgress(T),b.setWrapperTranslate(T)}}}}}},b.onTouchEnd=function(e){if(e.originalEvent&&(e=e.originalEvent),b.emit("onTouchEnd",b,e),x){b.params.grabCursor&&S&&x&&(b.container[0].style.cursor="move",b.container[0].style.cursor="-webkit-grab",b.container[0].style.cursor="-moz-grab",b.container[0].style.cursor="grab");var t,i=Date.now(),n=i-j;if(b.allowClick&&(b.updateClickedSlide(e),b.emit("onTap",b,e),n<300&&300<i-M&&(C&&clearTimeout(C),C=setTimeout(function(){b&&(b.params.paginationHide&&0<b.paginationContainer.length&&!_(e.target).hasClass(b.params.bulletClass)&&b.paginationContainer.toggleClass(b.params.paginationHiddenClass),b.emit("onClick",b,e))},300)),n<300&&i-M<300&&(C&&clearTimeout(C),b.emit("onDoubleTap",b,e))),M=Date.now(),setTimeout(function(){b&&b.allowClick&&(b.allowClick=!0)},0),!x||!S||!b.swipeDirection||0===b.touches.diff||T===k)return void(x=S=!1);if(x=S=!1,t=b.params.followFinger?b.rtl?b.translate:-b.translate:-T,b.params.freeMode){if(t<-b.minTranslate())return void b.slideTo(b.activeIndex);if(t>-b.maxTranslate())return void b.slideTo(b.slides.length<b.snapGrid.length?b.snapGrid.length-1:b.slides.length-1);if(b.params.freeModeMomentum){if(1<P.length){var r=P.pop(),s=P.pop(),a=r.position-s.position,o=r.time-s.time;b.velocity=a/o,b.velocity=b.velocity/2,Math.abs(b.velocity)<.02&&(b.velocity=0),(150<o||300<(new window.Date).getTime()-r.time)&&(b.velocity=0)}else b.velocity=0;P.length=0;var l=1e3*b.params.freeModeMomentumRatio,c=b.velocity*l,u=b.translate+c;b.rtl&&(u=-u);var d,h=!1,p=20*Math.abs(b.velocity)*b.params.freeModeMomentumBounceRatio;if(u<b.maxTranslate())b.params.freeModeMomentumBounce?(u+b.maxTranslate()<-p&&(u=b.maxTranslate()-p),d=b.maxTranslate(),E=h=!0):u=b.maxTranslate();else if(u>b.minTranslate())b.params.freeModeMomentumBounce?(u-b.minTranslate()>p&&(u=b.minTranslate()+p),d=b.minTranslate(),E=h=!0):u=b.minTranslate();else if(b.params.freeModeSticky){var f,m=0;for(m=0;m<b.snapGrid.length;m+=1)if(b.snapGrid[m]>-u){f=m;break}u=Math.abs(b.snapGrid[f]-u)<Math.abs(b.snapGrid[f-1]-u)||"next"===b.swipeDirection?b.snapGrid[f]:b.snapGrid[f-1],b.rtl||(u=-u)}if(0!==b.velocity)l=Math.abs(b.rtl?(-u-b.translate)/b.velocity:(u-b.translate)/b.velocity);else if(b.params.freeModeSticky)return void b.slideReset();b.params.freeModeMomentumBounce&&h?(b.updateProgress(d),b.setWrapperTransition(l),b.setWrapperTranslate(u),b.onTransitionStart(),b.animating=!0,b.wrapper.transitionEnd(function(){b&&E&&(b.emit("onMomentumBounce",b),b.setWrapperTransition(b.params.speed),b.setWrapperTranslate(d),b.wrapper.transitionEnd(function(){b&&b.onTransitionEnd()}))})):b.velocity?(b.updateProgress(u),b.setWrapperTransition(l),b.setWrapperTranslate(u),b.onTransitionStart(),b.animating||(b.animating=!0,b.wrapper.transitionEnd(function(){b&&b.onTransitionEnd()}))):b.updateProgress(u),b.updateActiveIndex()}return void((!b.params.freeModeMomentum||n>=b.params.longSwipesMs)&&(b.updateProgress(),b.updateActiveIndex()))}var v,g=0,y=b.slidesSizesGrid[0];for(v=0;v<b.slidesGrid.length;v+=b.params.slidesPerGroup)void 0!==b.slidesGrid[v+b.params.slidesPerGroup]?t>=b.slidesGrid[v]&&t<b.slidesGrid[v+b.params.slidesPerGroup]&&(g=v,y=b.slidesGrid[v+b.params.slidesPerGroup]-b.slidesGrid[v]):t>=b.slidesGrid[v]&&(g=v,y=b.slidesGrid[b.slidesGrid.length-1]-b.slidesGrid[b.slidesGrid.length-2]);var w=(t-b.slidesGrid[g])/y;if(n>b.params.longSwipesMs){if(!b.params.longSwipes)return void b.slideTo(b.activeIndex);"next"===b.swipeDirection&&b.slideTo(w>=b.params.longSwipesRatio?g+b.params.slidesPerGroup:g),"prev"===b.swipeDirection&&b.slideTo(w>1-b.params.longSwipesRatio?g+b.params.slidesPerGroup:g)}else{if(!b.params.shortSwipes)return void b.slideTo(b.activeIndex);"next"===b.swipeDirection&&b.slideTo(g+b.params.slidesPerGroup),"prev"===b.swipeDirection&&b.slideTo(g)}}},b._slideTo=function(e,t){return b.slideTo(e,t,!0,!0)},b.slideTo=function(e,t,i,n){void 0===i&&(i=!0),void 0===e&&(e=0),e<0&&(e=0),b.snapIndex=Math.floor(e/b.params.slidesPerGroup),b.snapIndex>=b.snapGrid.length&&(b.snapIndex=b.snapGrid.length-1);var r=-b.snapGrid[b.snapIndex];if(!b.params.allowSwipeToNext&&r<b.translate)return!1;if(!b.params.allowSwipeToPrev&&r>b.translate)return!1;b.params.autoplay&&b.autoplaying&&(n||!b.params.autoplayDisableOnInteraction?b.pauseAutoplay(t):b.stopAutoplay()),b.updateProgress(r);for(var s=0;s<b.slidesGrid.length;s++)-r>=b.slidesGrid[s]&&(e=s);return void 0===t&&(t=b.params.speed),b.previousIndex=b.activeIndex||0,b.activeIndex=e,r===b.translate?(b.updateClasses(),!1):(b.updateClasses(),b.onTransitionStart(i),w(),w(),0===t?(b.setWrapperTransition(0),b.setWrapperTranslate(r),b.onTransitionEnd(i)):(b.setWrapperTransition(t),b.setWrapperTranslate(r),b.animating||(b.animating=!0,b.wrapper.transitionEnd(function(){b&&b.onTransitionEnd(i)}))),!0)},b.onTransitionStart=function(e){void 0===e&&(e=!0),b.lazy&&b.lazy.onTransitionStart(),e&&(b.emit("onTransitionStart",b),b.activeIndex!==b.previousIndex&&b.emit("onSlideChangeStart",b))},b.onTransitionEnd=function(e){b.animating=!1,b.setWrapperTransition(0),void 0===e&&(e=!0),b.lazy&&b.lazy.onTransitionEnd(),e&&(b.emit("onTransitionEnd",b),b.activeIndex!==b.previousIndex&&b.emit("onSlideChangeEnd",b)),b.params.hashnav&&b.hashnav&&b.hashnav.setHash()},b.slideNext=function(e,t,i){return b.params.loop?!b.animating&&(b.fixLoop(),b.container[0].clientLeft,b.slideTo(b.activeIndex+b.params.slidesPerGroup,t,e,i)):b.slideTo(b.activeIndex+b.params.slidesPerGroup,t,e,i)},b._slideNext=function(e){return b.slideNext(!0,e,!0)},b.slidePrev=function(e,t,i){return b.params.loop?!b.animating&&(b.fixLoop(),b.container[0].clientLeft,b.slideTo(b.activeIndex-1,t,e,i)):b.slideTo(b.activeIndex-1,t,e,i)},b._slidePrev=function(e){return b.slidePrev(!0,e,!0)},b.slideReset=function(e,t,i){return b.slideTo(b.activeIndex,t,e)},b.setWrapperTransition=function(e,t){b.wrapper.transition(e),"slide"!==b.params.effect&&b.effects[b.params.effect]&&b.effects[b.params.effect].setTransition(e),b.params.parallax&&b.parallax&&b.parallax.setTransition(e),b.params.scrollbar&&b.scrollbar&&b.scrollbar.setTransition(e),b.params.control&&b.controller&&b.controller.setTransition(e,t),b.emit("onSetTransition",b,e)},b.setWrapperTranslate=function(e,t,i){var n=0,r=0;w()?n=b.rtl?-e:e:r=e,b.params.virtualTranslate||b.wrapper.transform(b.support.transforms3d?"translate3d("+n+"px, "+r+"px, 0px)":"translate("+n+"px, "+r+"px)"),b.translate=w()?n:r,t&&b.updateActiveIndex(),"slide"!==b.params.effect&&b.effects[b.params.effect]&&b.effects[b.params.effect].setTranslate(b.translate),b.params.parallax&&b.parallax&&b.parallax.setTranslate(b.translate),b.params.scrollbar&&b.scrollbar&&b.scrollbar.setTranslate(b.translate),b.params.control&&b.controller&&b.controller.setTranslate(b.translate,i),b.emit("onSetTranslate",b,b.translate)},b.getTranslate=function(e,t){var i,n,r,s;return void 0===t&&(t="x"),b.params.virtualTranslate?b.rtl?-b.translate:b.translate:(r=window.getComputedStyle(e,null),window.WebKitCSSMatrix?s=new window.WebKitCSSMatrix("none"===r.webkitTransform?"":r.webkitTransform):i=(s=r.MozTransform||r.OTransform||r.MsTransform||r.msTransform||r.transform||r.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===t&&(n=window.WebKitCSSMatrix?s.m41:parseFloat(16===i.length?i[12]:i[4])),"y"===t&&(n=window.WebKitCSSMatrix?s.m42:parseFloat(16===i.length?i[13]:i[5])),b.rtl&&n&&(n=-n),n||0)},b.getWrapperTranslate=function(e){return void 0===e&&(e=w()?"x":"y"),b.getTranslate(b.wrapper[0],e)},b.observers=[],b.initObservers=function(){if(b.params.observeParents)for(var e=b.container.parents(),t=0;t<e.length;t++)i(e[t]);i(b.container[0],{childList:!1}),i(b.wrapper[0],{attributes:!1})},b.disconnectObservers=function(){for(var e=0;e<b.observers.length;e++)b.observers[e].disconnect();b.observers=[]},b.createLoop=function(){b.wrapper.children("."+b.params.slideClass+"."+b.params.slideDuplicateClass).remove();var n=b.wrapper.children("."+b.params.slideClass);b.loopedSlides=parseInt(b.params.loopedSlides||b.params.slidesPerView,10),b.loopedSlides=b.loopedSlides+b.params.loopAdditionalSlides,b.loopedSlides>n.length&&(b.loopedSlides=n.length);var e,r=[],s=[];for(n.each(function(e,t){var i=_(this);e<b.loopedSlides&&s.push(t),e<n.length&&e>=n.length-b.loopedSlides&&r.push(t),i.attr("data-swiper-slide-index",e)}),e=0;e<s.length;e++)b.wrapper.append(_(s[e].cloneNode(!0)).addClass(b.params.slideDuplicateClass));for(e=r.length-1;0<=e;e--)b.wrapper.prepend(_(r[e].cloneNode(!0)).addClass(b.params.slideDuplicateClass))},b.destroyLoop=function(){b.wrapper.children("."+b.params.slideClass+"."+b.params.slideDuplicateClass).remove(),b.slides.removeAttr("data-swiper-slide-index")},b.fixLoop=function(){var e;b.activeIndex<b.loopedSlides?(e=b.slides.length-3*b.loopedSlides+b.activeIndex,e+=b.loopedSlides,b.slideTo(e,0,!1,!0)):("auto"===b.params.slidesPerView&&b.activeIndex>=2*b.loopedSlides||b.activeIndex>b.slides.length-2*b.params.slidesPerView)&&(e=-b.slides.length+b.activeIndex+b.loopedSlides,e+=b.loopedSlides,b.slideTo(e,0,!1,!0))},b.appendSlide=function(e){if(b.params.loop&&b.destroyLoop(),"object"==typeof e&&e.length)for(var t=0;t<e.length;t++)e[t]&&b.wrapper.append(e[t]);else b.wrapper.append(e);b.params.loop&&b.createLoop(),b.params.observer&&b.support.observer||b.update(!0)},b.prependSlide=function(e){b.params.loop&&b.destroyLoop();var t=b.activeIndex+1;if("object"==typeof e&&e.length){for(var i=0;i<e.length;i++)e[i]&&b.wrapper.prepend(e[i]);t=b.activeIndex+e.length}else b.wrapper.prepend(e);b.params.loop&&b.createLoop(),b.params.observer&&b.support.observer||b.update(!0),b.slideTo(t,0,!1)},b.removeSlide=function(e){b.params.loop&&(b.destroyLoop(),b.slides=b.wrapper.children("."+b.params.slideClass));var t,i=b.activeIndex;if("object"==typeof e&&e.length){for(var n=0;n<e.length;n++)t=e[n],b.slides[t]&&b.slides.eq(t).remove(),t<i&&i--;i=Math.max(i,0)}else t=e,b.slides[t]&&b.slides.eq(t).remove(),t<i&&i--,i=Math.max(i,0);b.params.loop&&b.createLoop(),b.params.observer&&b.support.observer||b.update(!0),b.params.loop?b.slideTo(i+b.loopedSlides,0,!1):b.slideTo(i,0,!1)},b.removeAllSlides=function(){for(var e=[],t=0;t<b.slides.length;t++)e.push(t);b.removeSlide(e)},b.effects={fade:{fadeIndex:null,setTranslate:function(){for(var e=0;e<b.slides.length;e++){var t=b.slides.eq(e),i=-t[0].swiperSlideOffset;b.params.virtualTranslate||(i-=b.translate);var n=0;w()||(n=i,i=0);var r=b.params.fade.crossFade?Math.max(1-Math.abs(t[0].progress),0):1+Math.min(Math.max(t[0].progress,-1),0);0<r&&r<1&&(b.effects.fade.fadeIndex=e),t.css({opacity:r}).transform("translate3d("+i+"px, "+n+"px, 0px)")}},setTransition:function(e){if(b.slides.transition(e),b.params.virtualTranslate&&0!==e){var t=null!==b.effects.fade.fadeIndex?b.effects.fade.fadeIndex:b.activeIndex;b.params.loop||b.params.fade.crossFade||0!==t||(t=b.slides.length-1),b.slides.eq(t).transitionEnd(function(){if(b)for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],t=0;t<e.length;t++)b.wrapper.trigger(e[t])})}}},cube:{setTranslate:function(){var e,t=0;b.params.cube.shadow&&(w()?(0===(e=b.wrapper.find(".swiper-cube-shadow")).length&&(e=_('<div class="swiper-cube-shadow"></div>'),b.wrapper.append(e)),e.css({height:b.width+"px"})):0===(e=b.container.find(".swiper-cube-shadow")).length&&(e=_('<div class="swiper-cube-shadow"></div>'),b.container.append(e)));for(var i=0;i<b.slides.length;i++){var n=b.slides.eq(i),r=90*i,s=Math.floor(r/360);b.rtl&&(r=-r,s=Math.floor(-r/360));var a=Math.max(Math.min(n[0].progress,1),-1),o=0,l=0,c=0;i%4==0?(o=4*-s*b.size,c=0):(i-1)%4==0?(o=0,c=4*-s*b.size):(i-2)%4==0?(o=b.size+4*s*b.size,c=b.size):(i-3)%4==0&&(o=-b.size,c=3*b.size+4*b.size*s),b.rtl&&(o=-o),w()||(l=o,o=0);var u="rotateX("+(w()?0:-r)+"deg) rotateY("+(w()?r:0)+"deg) translate3d("+o+"px, "+l+"px, "+c+"px)";if(a<=1&&-1<a&&(t=90*i+90*a,b.rtl&&(t=90*-i-90*a)),n.transform(u),b.params.cube.slideShadows){var d=n.find(w()?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),h=n.find(w()?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===d.length&&(d=_('<div class="swiper-slide-shadow-'+(w()?"left":"top")+'"></div>'),n.append(d)),0===h.length&&(h=_('<div class="swiper-slide-shadow-'+(w()?"right":"bottom")+'"></div>'),n.append(h)),n[0].progress,d.length&&(d[0].style.opacity=-n[0].progress),h.length&&(h[0].style.opacity=n[0].progress)}}if(b.wrapper.css({"-webkit-transform-origin":"50% 50% -"+b.size/2+"px","-moz-transform-origin":"50% 50% -"+b.size/2+"px","-ms-transform-origin":"50% 50% -"+b.size/2+"px","transform-origin":"50% 50% -"+b.size/2+"px"}),b.params.cube.shadow)if(w())e.transform("translate3d(0px, "+(b.width/2+b.params.cube.shadowOffset)+"px, "+-b.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+b.params.cube.shadowScale+")");else{var p=Math.abs(t)-90*Math.floor(Math.abs(t)/90),f=1.5-(Math.sin(2*p*Math.PI/360)/2+Math.cos(2*p*Math.PI/360)/2),m=b.params.cube.shadowScale,v=b.params.cube.shadowScale/f,g=b.params.cube.shadowOffset;e.transform("scale3d("+m+", 1, "+v+") translate3d(0px, "+(b.height/2+g)+"px, "+-b.height/2/v+"px) rotateX(-90deg)")}var y=b.isSafari||b.isUiWebView?-b.size/2:0;b.wrapper.transform("translate3d(0px,0,"+y+"px) rotateX("+(w()?0:t)+"deg) rotateY("+(w()?-t:0)+"deg)")},setTransition:function(e){b.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),b.params.cube.shadow&&!w()&&b.container.find(".swiper-cube-shadow").transition(e)}},coverflow:{setTranslate:function(){for(var e=b.translate,t=w()?-e+b.width/2:-e+b.height/2,i=w()?b.params.coverflow.rotate:-b.params.coverflow.rotate,n=b.params.coverflow.depth,r=0,s=b.slides.length;r<s;r++){var a=b.slides.eq(r),o=b.slidesSizesGrid[r],l=(t-a[0].swiperSlideOffset-o/2)/o*b.params.coverflow.modifier,c=w()?i*l:0,u=w()?0:i*l,d=-n*Math.abs(l),h=w()?0:b.params.coverflow.stretch*l,p=w()?b.params.coverflow.stretch*l:0;Math.abs(p)<.001&&(p=0),Math.abs(h)<.001&&(h=0),Math.abs(d)<.001&&(d=0),Math.abs(c)<.001&&(c=0),Math.abs(u)<.001&&(u=0);var f="translate3d("+p+"px,"+h+"px,"+d+"px)  rotateX("+u+"deg) rotateY("+c+"deg)";if(a.transform(f),a[0].style.zIndex=1-Math.abs(Math.round(l)),b.params.coverflow.slideShadows){var m=a.find(w()?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),v=a.find(w()?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===m.length&&(m=_('<div class="swiper-slide-shadow-'+(w()?"left":"top")+'"></div>'),a.append(m)),0===v.length&&(v=_('<div class="swiper-slide-shadow-'+(w()?"right":"bottom")+'"></div>'),a.append(v)),m.length&&(m[0].style.opacity=0<l?l:0),v.length&&(v[0].style.opacity=0<-l?-l:0)}}b.browser.ie&&(b.wrapper[0].style.perspectiveOrigin=t+"px 50%")},setTransition:function(e){b.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}}},b.lazy={initialImageLoaded:!1,loadImageInSlide:function(e,a){if(void 0!==e&&(void 0===a&&(a=!0),0!==b.slides.length)){var o=b.slides.eq(e),t=o.find(".swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");!o.hasClass("swiper-lazy")||o.hasClass("swiper-lazy-loaded")||o.hasClass("swiper-lazy-loading")||t.add(o[0]),0!==t.length&&t.each(function(){var n=_(this);n.addClass("swiper-lazy-loading");var r=n.attr("data-background"),s=n.attr("data-src");b.loadImage(n[0],s||r,!1,function(){if(r?(n.css("background-image","url("+r+")"),n.removeAttr("data-background")):(n.attr("src",s),n.removeAttr("data-src")),n.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),o.find(".swiper-lazy-preloader, .preloader").remove(),b.params.loop&&a){var e=o.attr("data-swiper-slide-index");if(o.hasClass(b.params.slideDuplicateClass)){var t=b.wrapper.children('[data-swiper-slide-index="'+e+'"]:not(.'+b.params.slideDuplicateClass+")");b.lazy.loadImageInSlide(t.index(),!1)}else{var i=b.wrapper.children("."+b.params.slideDuplicateClass+'[data-swiper-slide-index="'+e+'"]');b.lazy.loadImageInSlide(i.index(),!1)}}b.emit("onLazyImageReady",b,o[0],n[0])}),b.emit("onLazyImageLoad",b,o[0],n[0])})}},load:function(){if(b.params.watchSlidesVisibility)b.wrapper.children("."+b.params.slideVisibleClass).each(function(){b.lazy.loadImageInSlide(_(this).index())});else if(1<b.params.slidesPerView)for(var e=b.activeIndex;e<b.activeIndex+b.params.slidesPerView;e++)b.slides[e]&&b.lazy.loadImageInSlide(e);else b.lazy.loadImageInSlide(b.activeIndex);if(b.params.lazyLoadingInPrevNext){var t=b.wrapper.children("."+b.params.slideNextClass);0<t.length&&b.lazy.loadImageInSlide(t.index());var i=b.wrapper.children("."+b.params.slidePrevClass);0<i.length&&b.lazy.loadImageInSlide(i.index())}},onTransitionStart:function(){b.params.lazyLoading&&(b.params.lazyLoadingOnTransitionStart||!b.params.lazyLoadingOnTransitionStart&&!b.lazy.initialImageLoaded)&&b.lazy.load()},onTransitionEnd:function(){b.params.lazyLoading&&!b.params.lazyLoadingOnTransitionStart&&b.lazy.load()}},b.scrollbar={set:function(){if(b.params.scrollbar){var e=b.scrollbar;e.track=_(b.params.scrollbar),e.drag=e.track.find(".swiper-scrollbar-drag"),0===e.drag.length&&(e.drag=_('<div class="swiper-scrollbar-drag"></div>'),e.track.append(e.drag)),e.drag[0].style.width="",e.drag[0].style.height="",e.trackSize=w()?e.track[0].offsetWidth:e.track[0].offsetHeight,e.divider=b.size/b.virtualSize,e.moveDivider=e.divider*(e.trackSize/b.size),e.dragSize=e.trackSize*e.divider,w()?e.drag[0].style.width=e.dragSize+"px":e.drag[0].style.height=e.dragSize+"px",e.track[0].style.display=1<=e.divider?"none":"",b.params.scrollbarHide&&(e.track[0].style.opacity=0)}},setTranslate:function(){if(b.params.scrollbar){var e,t=b.scrollbar,i=(b.translate,t.dragSize);e=(t.trackSize-t.dragSize)*b.progress,b.rtl&&w()?0<(e=-e)?(i=t.dragSize-e,e=0):-e+t.dragSize>t.trackSize&&(i=t.trackSize+e):e<0?(i=t.dragSize+e,e=0):e+t.dragSize>t.trackSize&&(i=t.trackSize-e),w()?(t.drag.transform(b.support.transforms3d?"translate3d("+e+"px, 0, 0)":"translateX("+e+"px)"),t.drag[0].style.width=i+"px"):(t.drag.transform(b.support.transforms3d?"translate3d(0px, "+e+"px, 0)":"translateY("+e+"px)"),t.drag[0].style.height=i+"px"),b.params.scrollbarHide&&(clearTimeout(t.timeout),t.track[0].style.opacity=1,t.timeout=setTimeout(function(){t.track[0].style.opacity=0,t.track.transition(400)},1e3))}},setTransition:function(e){b.params.scrollbar&&b.scrollbar.drag.transition(e)}},b.controller={setTranslate:function(t,e){function i(e){t=e.rtl&&"horizontal"===e.params.direction?-b.translate:b.translate,n=(e.maxTranslate()-e.minTranslate())/(b.maxTranslate()-b.minTranslate()),r=(t-b.minTranslate())*n+e.minTranslate(),b.params.controlInverse&&(r=e.maxTranslate()-r),e.updateProgress(r),e.setWrapperTranslate(r,!1,b),e.updateActiveIndex()}var n,r,s=b.params.control;if(b.isArray(s))for(var a=0;a<s.length;a++)s[a]!==e&&s[a]instanceof D&&i(s[a]);else s instanceof D&&e!==s&&i(s)},setTransition:function(t,e){function i(e){e.setWrapperTransition(t,b),0!==t&&(e.onTransitionStart(),e.wrapper.transitionEnd(function(){r&&e.onTransitionEnd()}))}var n,r=b.params.control;if(b.isArray(r))for(n=0;n<r.length;n++)r[n]!==e&&r[n]instanceof D&&i(r[n]);else r instanceof D&&e!==r&&i(r)}},b.hashnav={init:function(){if(b.params.hashnav){b.hashnav.initialized=!0;var e=document.location.hash.replace("#","");if(e)for(var t=0,i=b.slides.length;t<i;t++){var n=b.slides.eq(t);if(n.attr("data-hash")===e&&!n.hasClass(b.params.slideDuplicateClass)){var r=n.index();b.slideTo(r,0,b.params.runCallbacksOnInit,!0)}}}},setHash:function(){b.hashnav.initialized&&b.params.hashnav&&(document.location.hash=b.slides.eq(b.activeIndex).attr("data-hash")||"")}},b.disableKeyboardControl=function(){_(document).off("keydown",n)},b.enableKeyboardControl=function(){_(document).on("keydown",n)},b._wheelEvent=!1,b._lastWheelScrollTime=(new window.Date).getTime(),b.params.mousewheelControl){if(void 0!==document.onmousewheel&&(b._wheelEvent="mousewheel"),!b._wheelEvent)try{new window.WheelEvent("wheel"),b._wheelEvent="wheel"}catch(e){}b._wheelEvent||(b._wheelEvent="DOMMouseScroll")}for(var A in b.disableMousewheelControl=function(){return!!b._wheelEvent&&(b.container.off(b._wheelEvent,r),!0)},b.enableMousewheelControl=function(){return!!b._wheelEvent&&(b.container.on(b._wheelEvent,r),!0)},b.parallax={setTranslate:function(){b.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){s(this,b.progress)}),b.slides.each(function(){var e=_(this);e.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){s(this,Math.min(Math.max(e[0].progress,-1),1))})})},setTransition:function(i){void 0===i&&(i=b.params.speed),b.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var e=_(this),t=parseInt(e.attr("data-swiper-parallax-duration"),10)||i;0===i&&(t=0),e.transition(t)})}},b._plugins=[],b.plugins){var Q=b.plugins[A](b,b.params[A]);Q&&b._plugins.push(Q)}return b.callPlugins=function(e){for(var t=0;t<b._plugins.length;t++)e in b._plugins[t]&&b._plugins[t][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},b.emitterEventListeners={},b.emit=function(e){var t;if(b.params[e]&&b.params[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),b.emitterEventListeners[e])for(t=0;t<b.emitterEventListeners[e].length;t++)b.emitterEventListeners[e][t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);b.callPlugins&&b.callPlugins(e,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},b.on=function(e,t){return e=l(e),b.emitterEventListeners[e]||(b.emitterEventListeners[e]=[]),b.emitterEventListeners[e].push(t),b},b.off=function(e,t){var i;if(e=l(e),void 0===t)return b.emitterEventListeners[e]=[],b;if(b.emitterEventListeners[e]&&0!==b.emitterEventListeners[e].length){for(i=0;i<b.emitterEventListeners[e].length;i++)b.emitterEventListeners[e][i]===t&&b.emitterEventListeners[e].splice(i,1);return b}},b.once=function(e,t){e=l(e);var i=function(){t(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),b.off(e,i)};return b.on(e,i),b},b.a11y={makeFocusable:function(e){return e[0].tabIndex="0",e},addRole:function(e,t){return e.attr("role",t),e},addLabel:function(e,t){return e.attr("aria-label",t),e},disable:function(e){return e.attr("aria-disabled",!0),e},enable:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(e){13===e.keyCode&&(_(e.target).is(b.params.nextButton)?(b.onClickNext(e),b.a11y.notify(b.isEnd?b.params.lastSlideMsg:b.params.nextSlideMsg)):_(e.target).is(b.params.prevButton)&&(b.onClickPrev(e),b.a11y.notify(b.isBeginning?b.params.firstSlideMsg:b.params.prevSlideMsg)))},liveRegion:_('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(e){var t=b.a11y.liveRegion;0!==t.length&&(t.html(""),t.html(e))},init:function(){if(b.params.nextButton){var e=_(b.params.nextButton);b.a11y.makeFocusable(e),b.a11y.addRole(e,"button"),b.a11y.addLabel(e,b.params.nextSlideMsg)}if(b.params.prevButton){var t=_(b.params.prevButton);b.a11y.makeFocusable(t),b.a11y.addRole(t,"button"),b.a11y.addLabel(t,b.params.prevSlideMsg)}_(b.container).append(b.a11y.liveRegion)},destroy:function(){b.a11y.liveRegion&&0<b.a11y.liveRegion.length&&b.a11y.liveRegion.remove()}},b.init=function(){b.params.loop&&b.createLoop(),b.updateContainerSize(),b.updateSlidesSize(),b.updatePagination(),b.params.scrollbar&&b.scrollbar&&b.scrollbar.set(),"slide"!==b.params.effect&&b.effects[b.params.effect]&&(b.params.loop||b.updateProgress(),b.effects[b.params.effect].setTranslate()),b.params.loop?b.slideTo(b.params.initialSlide+b.loopedSlides,0,b.params.runCallbacksOnInit):(b.slideTo(b.params.initialSlide,0,b.params.runCallbacksOnInit),0===b.params.initialSlide&&(b.parallax&&b.params.parallax&&b.parallax.setTranslate(),b.lazy&&b.params.lazyLoading&&(b.lazy.load(),b.lazy.initialImageLoaded=!0))),b.attachEvents(),b.params.observer&&b.support.observer&&b.initObservers(),b.params.preloadImages&&!b.params.lazyLoading&&b.preloadImages(),b.params.autoplay&&b.startAutoplay(),b.params.keyboardControl&&b.enableKeyboardControl&&b.enableKeyboardControl(),b.params.mousewheelControl&&b.enableMousewheelControl&&b.enableMousewheelControl(),b.params.hashnav&&b.hashnav&&b.hashnav.init(),b.params.a11y&&b.a11y&&b.a11y.init(),b.emit("onInit",b)},b.cleanupStyles=function(){b.container.removeClass(b.classNames.join(" ")).removeAttr("style"),b.wrapper.removeAttr("style"),b.slides&&b.slides.length&&b.slides.removeClass([b.params.slideVisibleClass,b.params.slideActiveClass,b.params.slideNextClass,b.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),b.paginationContainer&&b.paginationContainer.length&&b.paginationContainer.removeClass(b.params.paginationHiddenClass),b.bullets&&b.bullets.length&&b.bullets.removeClass(b.params.bulletActiveClass),b.params.prevButton&&_(b.params.prevButton).removeClass(b.params.buttonDisabledClass),b.params.nextButton&&_(b.params.nextButton).removeClass(b.params.buttonDisabledClass),b.params.scrollbar&&b.scrollbar&&(b.scrollbar.track&&b.scrollbar.track.length&&b.scrollbar.track.removeAttr("style"),b.scrollbar.drag&&b.scrollbar.drag.length&&b.scrollbar.drag.removeAttr("style"))},b.destroy=function(e,t){b.detachEvents(),b.stopAutoplay(),b.params.loop&&b.destroyLoop(),t&&b.cleanupStyles(),b.disconnectObservers(),b.params.keyboardControl&&b.disableKeyboardControl&&b.disableKeyboardControl(),b.params.mousewheelControl&&b.disableMousewheelControl&&b.disableMousewheelControl(),b.params.a11y&&b.a11y&&b.a11y.destroy(),b.emit("onDestroy"),!1!==e&&(b=null)},b.init(),b}};D.prototype={isSafari:(a=navigator.userAgent.toLowerCase(),0<=a.indexOf("safari")&&a.indexOf("chrome")<0&&a.indexOf("android")<0),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&1<window.navigator.msMaxTouchPoints||window.navigator.pointerEnabled&&1<window.navigator.maxTouchPoints},device:(i=navigator.userAgent,n=i.match(/(Android);?[\s\/]+([\d.]+)?/),r=i.match(/(iPad).*OS\s([\d_]+)/),i.match(/(iPod)(.*OS\s([\d_]+))?/),s=!r&&i.match(/(iPhone\sOS)\s([\d_]+)/),{ios:r||s||r,android:n}),support:{touch:window.Modernizr&&!0===Modernizr.touch||!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),transforms3d:window.Modernizr&&!0===Modernizr.csstransforms3d||(t=document.createElement("div").style,"webkitPerspective"in t||"MozPerspective"in t||"OPerspective"in t||"MsPerspective"in t||"perspective"in t),flexbox:function(){for(var e=document.createElement("div").style,t="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),i=0;i<t.length;i++)if(t[i]in e)return!0}(),observer:"MutationObserver"in window||"WebkitMutationObserver"in window},plugins:{}};for(var I=(u.prototype={addClass:function(e){if(void 0===e)return this;for(var t=e.split(" "),i=0;i<t.length;i++)for(var n=0;n<this.length;n++)this[n].classList.add(t[i]);return this},removeClass:function(e){for(var t=e.split(" "),i=0;i<t.length;i++)for(var n=0;n<this.length;n++)this[n].classList.remove(t[i]);return this},hasClass:function(e){return!!this[0]&&this[0].classList.contains(e)},toggleClass:function(e){for(var t=e.split(" "),i=0;i<t.length;i++)for(var n=0;n<this.length;n++)this[n].classList.toggle(t[i]);return this},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var i=0;i<this.length;i++)if(2===arguments.length)this[i].setAttribute(e,t);else for(var n in e)this[i][n]=e[n],this[i].setAttribute(n,e[n]);return this},removeAttr:function(e){for(var t=0;t<this.length;t++)this[t].removeAttribute(e);return this},data:function(e,t){if(void 0!==t){for(var i=0;i<this.length;i++){var n=this[i];n.dom7ElementDataStorage||(n.dom7ElementDataStorage={}),n.dom7ElementDataStorage[e]=t}return this}if(this[0]){var r=this[0].getAttribute("data-"+e);return r||(this[0].dom7ElementDataStorage&&e in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[e]:void 0)}},transform:function(e){for(var t=0;t<this.length;t++){var i=this[t].style;i.webkitTransform=i.MsTransform=i.msTransform=i.MozTransform=i.OTransform=i.transform=e}return this},transition:function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var i=this[t].style;i.webkitTransitionDuration=i.MsTransitionDuration=i.msTransitionDuration=i.MozTransitionDuration=i.OTransitionDuration=i.transitionDuration=e}return this},on:function(e,r,s,t){function i(e){var t=e.target;if(d(t).is(r))s.call(t,e);else for(var i=d(t).parents(),n=0;n<i.length;n++)d(i[n]).is(r)&&s.call(i[n],e)}var n,a,o=e.split(" ");for(n=0;n<this.length;n++)if("function"==typeof r||!1===r)for("function"==typeof r&&(s=r,t=arguments[2]||!1),a=0;a<o.length;a++)this[n].addEventListener(o[a],s,t);else for(a=0;a<o.length;a++)this[n].dom7LiveListeners||(this[n].dom7LiveListeners=[]),this[n].dom7LiveListeners.push({listener:s,liveListener:i}),this[n].addEventListener(o[a],i,t);return this},off:function(e,t,i,n){for(var r=e.split(" "),s=0;s<r.length;s++)for(var a=0;a<this.length;a++)if("function"==typeof t||!1===t)"function"==typeof t&&(i=t,n=arguments[2]||!1),this[a].removeEventListener(r[s],i,n);else if(this[a].dom7LiveListeners)for(var o=0;o<this[a].dom7LiveListeners.length;o++)this[a].dom7LiveListeners[o].listener===i&&this[a].removeEventListener(r[s],this[a].dom7LiveListeners[o].liveListener,n);return this},once:function(i,n,r,s){var a=this;"function"==typeof n&&(n=!1,r=arguments[1],s=arguments[2]),a.on(i,n,function e(t){r(t),a.off(i,n,e,s)},s)},trigger:function(t,i){for(var e=0;e<this.length;e++){var n;try{n=new window.CustomEvent(t,{detail:i,bubbles:!0,cancelable:!0})}catch(e){(n=document.createEvent("Event")).initEvent(t,!0,!0),n.detail=i}this[e].dispatchEvent(n)}return this},transitionEnd:function(t){function i(e){if(e.target===this)for(t.call(this,e),n=0;n<r.length;n++)s.off(r[n],i)}var n,r=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],s=this;if(t)for(n=0;n<r.length;n++)s.on(r[n],i);return this},width:function(){return this[0]===window?window.innerWidth:0<this.length?parseFloat(this.css("width")):null},outerWidth:function(e){return 0<this.length?e?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:0<this.length?parseFloat(this.css("height")):null},outerHeight:function(e){return 0<this.length?e?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(0<this.length){var e=this[0],t=e.getBoundingClientRect(),i=document.body,n=e.clientTop||i.clientTop||0,r=e.clientLeft||i.clientLeft||0,s=window.pageYOffset||e.scrollTop,a=window.pageXOffset||e.scrollLeft;return{top:t.top+s-n,left:t.left+a-r}}return null},css:function(e,t){var i;if(1===arguments.length){if("string"!=typeof e){for(i=0;i<this.length;i++)for(var n in e)this[i].style[n]=e[n];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(e)}if(2!==arguments.length||"string"!=typeof e)return this;for(i=0;i<this.length;i++)this[i].style[e]=t;return this},each:function(e){for(var t=0;t<this.length;t++)e.call(this[t],t,this[t]);return this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:void 0;for(var t=0;t<this.length;t++)this[t].innerHTML=e;return this},is:function(e){if(!this[0])return!1;var t,i;if("string"==typeof e){var n=this[0];if(n===document)return e===document;if(n===window)return e===window;if(n.matches)return n.matches(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e);if(n.mozMatchesSelector)return n.mozMatchesSelector(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);for(t=d(e),i=0;i<t.length;i++)if(t[i]===this[0])return!0;return!1}if(e===document)return this[0]===document;if(e===window)return this[0]===window;if(e.nodeType||e instanceof u){for(t=e.nodeType?[e]:e,i=0;i<t.length;i++)if(t[i]===this[0])return!0;return!1}return!1},index:function(){if(this[0]){for(var e=this[0],t=0;null!==(e=e.previousSibling);)1===e.nodeType&&t++;return t}},eq:function(e){if(void 0===e)return this;var t,i=this.length;return new u(i-1<e?[]:e<0?(t=i+e)<0?[]:[this[t]]:[this[e]])},append:function(e){var t,i;for(t=0;t<this.length;t++)if("string"==typeof e){var n=document.createElement("div");for(n.innerHTML=e;n.firstChild;)this[t].appendChild(n.firstChild)}else if(e instanceof u)for(i=0;i<e.length;i++)this[t].appendChild(e[i]);else this[t].appendChild(e);return this},prepend:function(e){var t,i;for(t=0;t<this.length;t++)if("string"==typeof e){var n=document.createElement("div");for(n.innerHTML=e,i=n.childNodes.length-1;0<=i;i--)this[t].insertBefore(n.childNodes[i],this[t].childNodes[0])}else if(e instanceof u)for(i=0;i<e.length;i++)this[t].insertBefore(e[i],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this},insertBefore:function(e){for(var t=d(e),i=0;i<this.length;i++)if(1===t.length)t[0].parentNode.insertBefore(this[i],t[0]);else if(1<t.length)for(var n=0;n<t.length;n++)t[n].parentNode.insertBefore(this[i].cloneNode(!0),t[n])},insertAfter:function(e){for(var t=d(e),i=0;i<this.length;i++)if(1===t.length)t[0].parentNode.insertBefore(this[i],t[0].nextSibling);else if(1<t.length)for(var n=0;n<t.length;n++)t[n].parentNode.insertBefore(this[i].cloneNode(!0),t[n].nextSibling)},next:function(e){return new u(0<this.length?e?this[0].nextElementSibling&&d(this[0].nextElementSibling).is(e)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(e){var t=[],i=this[0];if(!i)return new u([]);for(;i.nextElementSibling;){var n=i.nextElementSibling;e?d(n).is(e)&&t.push(n):t.push(n),i=n}return new u(t)},prev:function(e){return new u(0<this.length?e?this[0].previousElementSibling&&d(this[0].previousElementSibling).is(e)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(e){var t=[],i=this[0];if(!i)return new u([]);for(;i.previousElementSibling;){var n=i.previousElementSibling;e?d(n).is(e)&&t.push(n):t.push(n),i=n}return new u(t)},parent:function(e){for(var t=[],i=0;i<this.length;i++)e?d(this[i].parentNode).is(e)&&t.push(this[i].parentNode):t.push(this[i].parentNode);return d(d.unique(t))},parents:function(e){for(var t=[],i=0;i<this.length;i++)for(var n=this[i].parentNode;n;)e?d(n).is(e)&&t.push(n):t.push(n),n=n.parentNode;return d(d.unique(t))},find:function(e){for(var t=[],i=0;i<this.length;i++)for(var n=this[i].querySelectorAll(e),r=0;r<n.length;r++)t.push(n[r]);return new u(t)},children:function(e){for(var t=[],i=0;i<this.length;i++)for(var n=this[i].childNodes,r=0;r<n.length;r++)e?1===n[r].nodeType&&d(n[r]).is(e)&&t.push(n[r]):1===n[r].nodeType&&t.push(n[r]);return new u(d.unique(t))},remove:function(){for(var e=0;e<this.length;e++)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},add:function(){var e,t;for(e=0;e<arguments.length;e++){var i=d(arguments[e]);for(t=0;t<i.length;t++)this[this.length]=i[t],this.length++}return this}},d.fn=u.prototype,d.unique=function(e){for(var t=[],i=0;i<e.length;i++)-1===t.indexOf(e[i])&&t.push(e[i]);return t},d),l=["jQuery","Zepto","Dom7"],c=0;c<l.length;c++)window[l[c]]&&e(window[l[c]]);function u(e){var t=0;for(t=0;t<e.length;t++)this[t]=e[t];return this.length=e.length,this}function d(e,t){var i=[],n=0;if(e&&!t&&e instanceof u)return e;if(e)if("string"==typeof e){var r,s,a=e.trim();if(0<=a.indexOf("<")&&0<=a.indexOf(">")){var o="div";for(0===a.indexOf("<li")&&(o="ul"),0===a.indexOf("<tr")&&(o="tbody"),0!==a.indexOf("<td")&&0!==a.indexOf("<th")||(o="tr"),0===a.indexOf("<tbody")&&(o="table"),0===a.indexOf("<option")&&(o="select"),(s=document.createElement(o)).innerHTML=e,n=0;n<s.childNodes.length;n++)i.push(s.childNodes[n])}else for(r=t||"#"!==e[0]||e.match(/[ .<>:~]/)?(t||document).querySelectorAll(e):[document.getElementById(e.split("#")[1])],n=0;n<r.length;n++)r[n]&&i.push(r[n])}else if(e.nodeType||e===window||e===document)i.push(e);else if(0<e.length&&e[0].nodeType)for(n=0;n<e.length;n++)i.push(e[n]);return new u(i)}(o=void 0===I?window.Dom7||window.Zepto||window.jQuery:I)&&("transitionEnd"in o.fn||(o.fn.transitionEnd=function(t){function i(e){if(e.target===this)for(t.call(this,e),n=0;n<r.length;n++)s.off(r[n],i)}var n,r=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],s=this;if(t)for(n=0;n<r.length;n++)s.on(r[n],i);return this}),"transform"in o.fn||(o.fn.transform=function(e){for(var t=0;t<this.length;t++){var i=this[t].style;i.webkitTransform=i.MsTransform=i.msTransform=i.MozTransform=i.OTransform=i.transform=e}return this}),"transition"in o.fn||(o.fn.transition=function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var i=this[t].style;i.webkitTransitionDuration=i.MsTransitionDuration=i.msTransitionDuration=i.MozTransitionDuration=i.OTransitionDuration=i.transitionDuration=e}return this})),window.Swiper=D}(),"undefined"!=typeof module?module.exports=window.Swiper:"function"==typeof define&&define.amd&&define([],function(){"use strict";return window.Swiper}),jQuery(document).ready(function(){shapes(),jQuery(window).on("resize",function(e){shapes()})});var swiperIndex=0,htmlBody=jQuery("html, body"),isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iPad:function(){return navigator.userAgent.match(/iPad/i)},iPhone:function(){return navigator.userAgent.match(/iPhone|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};function addCloseToggle(){jQuery(".menu-main-menu-container").prepend('<div class="navToggle close"></div>')}function mobileKeyboardOpenFix(){jQuery(document).on("focus","input",function(){jQuery("body").addClass("keyboardOpen")}).on("blur","input",function(){jQuery("body").removeClass("keyboardOpen")})}function swiperInit(){new Swiper(".swiper .swiper-container",{autoplay:8e3,loop:!1,speed:600,pagination:".swiper-pagination",paginationClickable:!0,onSlideChangeStart:function(e){jQuery(".swiper-content #swiperContent"+swiperIndex).removeClass("show").addClass("hide")},onSlideChangeEnd:function(e){swiperIndex=e.activeIndex,jQuery(".swiper-content #swiperContent"+swiperIndex).removeClass("hide").addClass("show")}})}function caseStudySwiperInit(){new Swiper(".caseStudies .swiper-container",{loop:!1})}function swiperTeamInit(){new Swiper(".meetTeam .swiper-container",{prevButton:".meetTeam .arrowPrev",nextButton:".meetTeam .arrowNext",onSlideChangeStart:function(e){jQuery(".meetTeam .swiper-content #swiperContent"+swiperIndex).removeClass("show").addClass("hide")},onSlideChangeEnd:function(e){swiperIndex=e.activeIndex,jQuery(".meetTeam .swiper-content #swiperContent"+swiperIndex).removeClass("hide").addClass("show")}})}function linkOnTouchEnd(){jQuery(".mainNav a").on("click touchend",function(e){var t=jQuery(this).attr("href");window.location=t})}function toggleNav(){jQuery(".navToggle").on("click",function(e){var t=jQuery(".menu-main-menu-container");t.hasClass("open")?(t.removeClass("open"),htmlBody.css("overflow","scroll")):(t.addClass("open"),htmlBody.css("overflow","hidden"))})}function toggleAccordion(){jQuery(".accordion h3").on("click",function(e){var t=jQuery(e.currentTarget).parent();t.hasClass("open")?t.removeClass("open"):(jQuery(".accordion .accordionItemWrap").removeClass("open"),t.addClass("open"))})}function activePartners(){jQuery(".mainNav ul li.partners").hasClass("current-menu-item")&&jQuery(".mainNav .partnersBg").addClass("hover")}function hoverPartners(){jQuery(".mainNav ul li.partners a").hover(function(){jQuery(".mainNav .partnersBg").addClass("hover")},function(){jQuery(".mainNav .partnersBg").removeClass("hover")})}function openPartners(){jQuery("#openPartners").on("click",function(e){e.preventDefault(),jQuery(".popup").addClass("open"),htmlBody.css("overflow","hidden"),document.ontouchmove=function(e){e.preventDefault()},closePartners()})}function closePartners(){jQuery(".popupBg, .popup .close").on("click",function(e){e.preventDefault(),jQuery(".popup").removeClass("open"),htmlBody.css("overflow","scroll"),document.ontouchmove=function(e){return!0}})}function selectFirstOption(){jQuery(".formDropdownWrap-wrap").find("option").attr("selected","")}function masks(){var maskIMGs=jQuery("img[data-mask]");maskIMGs.each(function(index){var maskPath=jQuery(this).attr("data-mask"),maskSrc=jQuery(this).attr("src"),maskWidth=jQuery(this).attr("width"),maskHeight=jQuery(this).attr("height"),maskAlt=jQuery(this).attr("alt"),maskTitle=jQuery(this).attr("title"),uniqueID=index,product=jQuery(this).attr("data-product"),xPos,yPos;yPos="true"==product?(xPos="-"+maskWidth/2,"-"+maskHeight/4/2):(xPos="-"+Number(maskWidth/2+70),"-"+maskHeight/4);var maskSVG=jQuery('<svg data-mask-path="'+maskPath+'" version="1.1" baseProfile="full" xmlns="http://www.w3.org/2000/svg" class="svgMask" width="'+maskWidth+'" height="'+maskHeight+'" viewBox="0 0 '+maskWidth+" "+maskHeight+'"><defs><clipPath id="maskID'+uniqueID+'"><path d="'+eval(maskPath)+'"/></clipPath></defs><title>'+maskTitle+"</title><desc>"+maskAlt+'</desc><image clip-path="url(#maskID'+uniqueID+')" width="'+2*maskWidth+'" height="'+1.25*maskHeight+'" x="'+xPos+'" y="'+yPos+'" xlink:href="'+maskSrc+'" /></svg>');jQuery(this).replaceWith(maskSVG),delete maskSVG})}function reMask(){var maskSVGs=jQuery("svg.svgMask");maskSVGs.each(function(index){var maskPath=jQuery(this).attr("data-mask-path"),maskSrc=jQuery(this).find("image").attr("xlink:href"),maskWidth=jQuery(this).attr("width"),maskHeight=jQuery(this).attr("height"),maskAlt=jQuery(this).find("desc").text(),maskTitle=jQuery(this).find("title").text(),uniqueID=index,product=jQuery(this).attr("data-product"),xPos,yPos;yPos="true"==product?(xPos="-"+maskWidth/2,"-"+maskHeight/4/2):(xPos="-"+Number(maskWidth/2+70),"-"+maskHeight/4);var maskSVG=jQuery('<svg data-mask-path="'+maskPath+'" version="1.1" baseProfile="full" xmlns="http://www.w3.org/2000/svg" class="svgMask" width="'+maskWidth+'" height="'+maskHeight+'" viewBox="0 0 '+maskWidth+" "+maskHeight+'"><defs><clipPath id="maskID'+uniqueID+'"><path d="'+eval(maskPath)+'"/></clipPath></defs><title>'+maskTitle+"</title><desc>"+maskAlt+'</desc><image clip-path="url(#maskID'+uniqueID+')" width="'+2*maskWidth+'" height="'+1.25*maskHeight+'" x="'+xPos+'" y="'+yPos+'" xlink:href="'+maskSrc+'" /></svg>');jQuery(this).replaceWith(maskSVG),delete maskSVG})}function subMenuHeight(){1024<jQuery(window).width()&&(jQuery(".sub-menu-item").hover(function(){jQuery(".sub-menu, .teaser-main-box, .teaser-box-seprator, .teaser-box-seprator-2").removeAttr("style");var e=jQuery(this).find(".sub-menu-link"),t=e.position().top,i=e.height(),n=e.innerHeight()+1,r=e.parents(".sub-menu").innerHeight()+30;if(0<e.next(".teaser-main-box").find(".teaser-box").length){var s=e.next(".teaser-main-box").find(".teaser-box").map(function(){return jQuery(this).outerHeight(!0)+70}).get(),a=Math.max.apply(null,s),o=e.next(".teaser-main-box").find(".teaser-box").outerHeight(!0);jQuery(".sub-menu-link").removeAttr("style"),e.css({"border-bottom":"1px solid #8eb435"}),e.next(".teaser-main-box").height(o),e.next(".teaser-main-box").find(".teaser-box-seprator").height(o),r<a?e.parents(".sub-menu").height(a):e.parents(".sub-menu").height(r-40),e.parent("li").is(":last-child")?(e.next(".teaser-main-box").children(".teaser-box-seprator").removeAttr("style"),e.next(".teaser-main-box").children(".teaser-box-seprator-2").css("background-color","#8eb435")):e.parent("li").is(":first-child"),e.next(".teaser-main-box").find(".teaser-box-seprator-2").height(t+i-n)}else jQuery(".sub-menu, .teaser-main-box, .teaser-box-seprator, .teaser-box-seprator-2").removeAttr("style")},function(){jQuery(".teaser-main-box, .teaser-box-seprator, .teaser-box-seprator-2").removeAttr("style");var e=jQuery(this).find(".sub-menu-link"),t=jQuery(".sub-menu").height(),i=jQuery(".teaser-box").outerHeight(!0),n=e.position().top,r=e.height(),s=e.innerHeight()+1,a=e.next(".teaser-main-box").find(".teaser-box").outerHeight(!0);e.next(".teaser-main-box").height(a),e.next(".teaser-main-box").find(".teaser-box-seprator").height(a),e.next(".teaser-main-box").find(".teaser-box-seprator-2").height(n+r-s),0<e.next(".teaser-main-box").find(".teaser-box").length&&(t<i?(jQuery(".sub-menu").removeAttr("style"),jQuery(".sub-menu").height(i)):(jQuery(".sub-menu").removeAttr("style"),jQuery(".sub-menu").height(t))),e.parent("li").is(":last-child")&&(e.next(".teaser-main-box").children(".teaser-box-seprator").removeAttr("style"),e.next(".teaser-main-box").children(".teaser-box-seprator-2").css("background-color","#8eb435"))}),jQuery(".sub-menu").hover(function(){jQuery(".sub-menu-link").removeAttr("style")}),jQuery(".main-menu-item").hover(function(){jQuery(".sub-menu, .sub-menu, .teaser-main-box, .teaser-box-seprator, .teaser-box-seprator-2, .sub-menu-link").removeAttr("style")}),jQuery(".sub-menu-item").hover(function(){jQuery(this).find(".teaser-box").fadeIn(300)},function(){jQuery(".teaser-box").fadeOut(300),jQuery(".sub-menu-link, .teaser-box-seprator, .teaser-box-seprator-2").removeAttr("style")}))}function slideNav(){jQuery("#menu-main-menu .main-menu-item .sub-menu-arrow").click(function(){if(jQuery(window).width()<=1024){var e=jQuery(this);e.hasClass("active")?(e.removeClass("active"),jQuery(".menu-link").removeClass("focused"),e.next(".sub-menu").slideUp()):setTimeout(function(){jQuery("#menu-main-menu .main-menu-item .sub-menu-arrow").removeClass("active"),jQuery(".sub-menu").slideUp(),jQuery(".menu-link").removeClass("focused"),e.prev(".menu-link").addClass("focused"),e.addClass("active"),e.next(".sub-menu").slideDown()},100)}})}
/*
function init_all_the_ninja_things(){function ninja_forms_countdown(e,t){$countdown=jQuery("#"+e),counter=parseInt($countdown.data("countdown"))-1,$countdown.val(counter).data("countdown",counter).find("span").html(counter),counter<=0&&(window.clearInterval(window.ninja_forms_timer.index),$countdown.removeAttr("disabled").html($countdown.data("text")))}jQuery(".ninja-forms-form input").bind("keypress",function(e){13==e.keyCode&&jQuery(this).attr("type")}),jQuery(document).ready(function(){if(jQuery("div.label-inside input, div.label-inside textarea").focus(function(){var e=jQuery("#"+this.id+"_label_hidden").val();this.value==e&&(this.value="")}),jQuery("div.label-inside input, div.label-inside textarea").blur(function(){var e=jQuery("#"+this.id+"_label_hidden").val();""==this.value&&(this.value=e)}),jQuery.fn.mask){jQuery(".ninja-forms-mask").each(function(){var e=jQuery(this).data("mask");e=e.toString(),jQuery(this).mask(e)});var e=ninja_forms_settings.date_format;e=(e=(e=(e=e.replace(/m/g,9)).replace(/d/g,9)).replace(/y/g,99)).replace(/Y/g,9999),jQuery(".ninja-forms-date").mask(e)}jQuery.fn.datepicker&&jQuery(".ninja-forms-datepicker").datepicker(ninja_forms_settings.datepicker_args),jQuery.fn.autoNumeric&&jQuery(".ninja-forms-currency").autoNumeric({aSign:ninja_forms_settings.currency_symbol,aSep:thousandsSeparator,aDec:decimalPoint})}),jQuery.fn.qtip&&jQuery(".ninja-forms-help-text").qtip({style:{classes:"qtip-shadow qtip-dark"}}),jQuery(document).ready(function(){jQuery(".input-limit").each(function(){var e=jQuery(this).data("input-limit"),t=jQuery(this).data("input-limit-type"),i=jQuery(this).data("input-limit-msg");jQuery(this).counter({count:"down",goal:e,type:t,msg:i})})}),jQuery(".ninja-forms-form").each(function(){var e=this.id.replace("ninja_forms_form_",""),t=window["ninja_forms_form_"+e+"_settings"];if(ajax=void 0!==t?t.ajax:0,1==ajax){var i={beforeSerialize:function(e,t){"undefined"!=typeof tinyMCE&&tinyMCE.triggerSave()},beforeSubmit:ninja_forms_before_submit,success:ninja_forms_response,dataType:"json"};jQuery(this).ajaxForm(i),jQuery(this).on("submitResponse.default",function(e,t){return ninja_forms_default_response(t)}),jQuery(this).on("beforeSubmit.default",function(e,t,i,n){return ninja_forms_default_before_submit(t,i,n)})}else jQuery(this).submit(function(e){return ninja_forms_before_submit(jQuery(this).serialize(),this,"")})}),jQuery(".pass1").val("").keyup(function(){var e=this.value,t=this.id.replace("pass1","pass2");check_pass_strength(e,t=jQuery("#"+t).val())}),jQuery(".pass2").val("").keyup(function(){var e=this.value,t=this.id.replace("pass2","pass1");check_pass_strength(t=jQuery("#"+t).val(),e)}),jQuery(".countdown-timer").each(function(e){jQuery(this).attr("disabled","disabled").parents(".field-wrap:first").find("input.no-js").remove(),id=jQuery(this).attr("id"),window.ninja_forms_timer&&window.clearInterval(window.ninja_forms_timer.index),window.ninja_forms_timer={index:window.setInterval(function(){ninja_forms_countdown(id,e)},1e3)}});var calc_fields=jQuery(".ninja-forms-field-calc-listen");calc_fields.each(function(e,t){if("checkbox"==this.type)if(this.checked)var i="checked";else i="unchecked";else if(void 0===this.type)i=jQuery(this).prop("innerHTML");else i=jQuery(this).val();var n=ninja_forms_get_form_id(this),r=jQuery(this).attr("rel"),s=window["ninja_forms_form_"+n+"_calc_settings"];for(calc_id in s.calc_fields)calc_id!=r&&jQuery(t).data(calc_id+"-oldValue",i)}),jQuery("body").on("focus",".ninja-forms-field-list-options-span-calc-listen",function(e){var t=jQuery(this).attr("rel");if("list"==jQuery("#ninja_forms_field_"+t+"_type").val()&&"radio"==jQuery("#ninja_forms_field_"+t+"_list_type").val()){var i=ninja_forms_get_form_id(this),n=window["ninja_forms_form_"+i+"_calc_settings"];for(calc_id in n.calc_fields)calc_id!=t&&jQuery(this).data(calc_id+"-oldValue",jQuery("input[name='ninja_forms_field_"+t+"']:checked").val())}}),jQuery("body").on("mousedown",".ninja-forms-field-list-options-span-calc-listen",function(e){var t=jQuery(this).attr("rel");if("list"==jQuery("#ninja_forms_field_"+t+"_type").val()&&"radio"==jQuery("#ninja_forms_field_"+t+"_list_type").val()){var i=ninja_forms_get_form_id(this),n=window["ninja_forms_form_"+i+"_calc_settings"];for(calc_id in n.calc_fields)calc_id!=t&&jQuery(this).data(calc_id+"-oldValue",jQuery("input[name='ninja_forms_field_"+t+"']:checked").val())}}),jQuery("body").on("change",".ninja-forms-field-calc-listen",function(event){if(this==event.target){var form_id=ninja_forms_get_form_id(this),field_id=jQuery(this).attr("rel"),calc_settings=window["ninja_forms_form_"+form_id+"_calc_settings"],visible=jQuery("#ninja_forms_field_"+field_id+"_div_wrap").data("visible");for(calc_id in calc_settings.calc_fields)if(calc_id!=field_id){var calc_method=calc_settings.calc_fields[calc_id].method,calc_places=calc_settings.calc_fields[calc_id].places;if("fields"==calc_method){for(var change=!1,i=calc_settings.calc_fields[calc_id].fields.length-1;0<=i;i--)if(calc_settings.calc_fields[calc_id].fields[i].field==field_id){change=!0;break}}else if("eq"==calc_method){var change=!1;if(void 0!==calc_settings.calc_fields[calc_id].fields)for(var i=calc_settings.calc_fields[calc_id].fields.length-1;0<=i;i--)if(calc_settings.calc_fields[calc_id].fields[i]==field_id){change=!0;break}}if(("fields"==calc_method||"eq"==calc_method)&&change||"auto"==calc_method){if("auto"==calc_method||"fields"==calc_method){var key=jQuery(this).val(),new_value="";if(old_value=jQuery(this).data(calc_id+"-oldValue"),"list"==jQuery("#ninja_forms_field_"+field_id+"_type").val()){var key=jQuery(this).val();if("checkbox"==jQuery("#ninja_forms_field_"+field_id+"_list_type").val())this.checked?jQuery(this).data(calc_id+"-oldValue","checked"):jQuery(this).data(calc_id+"-oldValue","unchecked"),this.checked&&1==visible?old_value=0:this.checked&&1!=visible?(old_value=key,new_value=0):(this.checked||1!=visible)&&(this.checked||1==visible)||(old_value="checked"==old_value?key:0,new_value=0);else if("radio"==jQuery("#ninja_forms_field_"+field_id+"_list_type").val()){var span=jQuery(this).parent().parent().parent().parent();old_value=jQuery(span).data(calc_id+"-oldValue"),void 0===old_value&&this.checked&&(old_value=jQuery(this).val()),this.checked&&1==visible?old_value==key&&(old_value=0):this.checked&&1!=visible?new_value=0:this.checked||(old_value=0,new_value=0),this.checked&&jQuery(span).data(calc_id+"-oldValue",key)}else if("multi"==jQuery("#ninja_forms_field_"+field_id+"_list_type").val()){if(jQuery.isArray(key)){for(var tmp=0,i=key.length-1;0<=i;i--)void 0!==calc_settings.calc_value[field_id][key[i]]&&(tmp+=parseFloat(calc_settings.calc_value[field_id][key[i]]));new_value=tmp}if(jQuery.isArray(old_value)){for(var tmp=0,i=old_value.length-1;0<=i;i--)void 0!==calc_settings.calc_value[field_id][old_value[i]]&&(tmp+=parseFloat(calc_settings.calc_value[field_id][old_value[i]]));old_value=tmp}}else var old_value=jQuery(this).data(calc_id+"-oldValue")}else if("checkbox"==jQuery("#ninja_forms_field_"+field_id+"_type").val())if(this.checked&&1==visible){var key="checked";old_value="unchecked"}else if(this.checked&&1!=visible){var key="unchecked";old_value="checked"==jQuery(this).data(calc_id+"-oldValue")||void 0===jQuery(this).data(calc_id+"-oldValue")?"checked":0}else if(this.checked||1==visible){var key="unchecked";old_value="checked"==jQuery(this).data(calc_id+"-oldValue")||void 0===jQuery(this).data(calc_id+"-oldValue")?"checked":0}else{var key="unchecked";old_value=0}else"calc"==jQuery("#ninja_forms_field_"+field_id+"_type").val()&&""==key&&(key=jQuery("#ninja_forms_field_"+field_id).prop("innerHTML"));if(""===new_value)if(void 0!==calc_settings.calc_value[field_id]&&void 0!==calc_settings.calc_value[field_id][key])var new_value=calc_settings.calc_value[field_id][key];else{if(void 0===this.type)var new_value=this.innerHTML;else var new_value=this.value;void 0!==ninja_forms_settings.currency_symbol&&(f_value=new_value.replace(ninja_forms_settings.currency_symbol,""),f_value=f_value.replace(/thousandsSeparator/g,""),"."!=decimalPoint&&(f_value=f_value.replace(decimalPoint,"."))),isNaN(new_value)&&(new_value=0)}if(void 0!==calc_settings.calc_value[field_id]&&void 0!==calc_settings.calc_value[field_id][old_value]?old_value=calc_settings.calc_value[field_id][old_value]:""==old_value||void 0===old_value?old_value=0:isNaN(old_value)&&void 0!==ninja_forms_settings.currency_symbol&&(old_value=old_value.replace(ninja_forms_settings.currency_symbol,""),old_value=old_value.replace(/,/g,"")),"text"==jQuery("#ninja_forms_field_"+calc_id).attr("type"))var current_value=jQuery("#ninja_forms_field_"+calc_id).val();else var current_value=jQuery("#ninja_forms_field_"+calc_id).html();if(current_value=current_value.replace(/thousandsSeparator/g,""),"."!=decimalPoint&&(current_value=current_value.replace(decimalPoint,".")),void 0!==ninja_forms_settings.currency_symbol&&void 0!==current_value&&(f_value=current_value.replace(ninja_forms_settings.currency_symbol,""),f_value=f_value.replace(/thousandsSeparator/g,""),"."!=decimalPoint&&(f_value=f_value.replace(decimalPoint,"."))),current_value=isNaN(current_value)?0:parseFloat(current_value),"auto"==calc_method){var old_op="subtract",new_op="add";jQuery(this).hasClass("ninja-forms-field-calc-auto")||(old_value="",new_value="")}else if("fields"==calc_method)for(var i=calc_settings.calc_fields[calc_id].fields.length-1;0<=i;i--)if(calc_settings.calc_fields[calc_id].fields[i].field==field_id)var old_op=ninja_forms_find_opposite_op(calc_settings.calc_fields[calc_id].fields[i].op),new_op=calc_settings.calc_fields[calc_id].fields[i].op;if(old_value&&!isNaN(old_value)&&0!=old_value&&""!=old_value&&!jQuery(this).hasClass("ninja-forms-field-calc-no-old-op")){old_value=parseFloat(old_value);var asdf=current_value;tmp=new ninja_forms_var_operator(old_op),current_value=tmp.evaluate(current_value,old_value)}if(!new_value||isNaN(new_value)||0==new_value||""==new_value||jQuery(this).hasClass("ninja-forms-field-calc-no-new-op"))var calc_value=current_value;else{new_value=parseFloat(new_value),tmp=new ninja_forms_var_operator(new_op);var calc_value=tmp.evaluate(current_value,new_value)}}else if("eq"==calc_method){for(var tmp_eq=calc_settings.calc_fields[calc_id].eq,i=calc_settings.calc_fields[calc_id].fields.length-1;0<=i;i--){var f_id=calc_settings.calc_fields[calc_id].fields[i],key=jQuery("#ninja_forms_field_"+f_id).val(),f_value="";if("list"==jQuery("#ninja_forms_field_"+f_id+"_type").val()){if("radio"==jQuery("#ninja_forms_field_"+f_id+"_list_type").val())key=jQuery(".ninja-forms-field-"+f_id+"-options :checked").val();else if("multi"==jQuery("#ninja_forms_field_"+f_id+"_list_type").val()){if(jQuery.isArray(key)){for(var tmp=0,x=key.length-1;0<=x;x--)void 0!==calc_settings.calc_value[f_id][key[x]]&&(tmp+=parseFloat(calc_settings.calc_value[f_id][key[x]]));f_value=tmp}}else if("checkbox"==jQuery("#ninja_forms_field_"+f_id+"_list_type").val()){var tmp=0;jQuery(".ninja-forms-field-"+f_id+"-options :checked").each(function(){void 0!==calc_settings.calc_value[f_id][this.value]&&(tmp+=parseFloat(calc_settings.calc_value[f_id][this.value]))}),f_value=tmp}}else if("checkbox"==jQuery("#ninja_forms_field_"+f_id+"_type").val())if(jQuery("#ninja_forms_field_"+f_id).attr("checked"))var key="checked";else var key="unchecked";else"calc"==jQuery("#ninja_forms_field_"+f_id+"_type").val()&&""==key&&(f_value=jQuery("#ninja_forms_field_"+f_id).prop("innerHTML"));""==f_value&&(f_value=void 0!==calc_settings.calc_value[f_id]&&void 0!==calc_settings.calc_value[f_id][key]?calc_settings.calc_value[f_id][key]:key),void 0!==f_value&&"string"==typeof f_value&&0<=f_value.indexOf("%")&&(f_value=f_value.replace("%",""),isNaN(f_value)||(f_value=parseFloat(f_value)/100)),void 0===this.type&&""==key&&(f_value=this.innerHTML),void 0!==ninja_forms_settings.currency_symbol&&isNaN(f_value)&&void 0!==f_value&&(f_value=f_value.replace(ninja_forms_settings.currency_symbol,""),f_value=f_value.replace(/thousandsSeparator/g,""),"."!=decimalPoint&&(f_value=f_value.replace(decimalPoint,"."))),!isNaN(f_value)&&""!=f_value&&f_value&&void 0!==f_value||(f_value=0);var find="field_"+f_id,re=new RegExp(find,"g");tmp_eq=tmp_eq.replace(re,f_value)}var calc_value=eval(tmp_eq)}if("text"==jQuery("#ninja_forms_field_"+calc_id).attr("type"))var current_value=jQuery("#ninja_forms_field_"+calc_id).val();else var current_value=jQuery("#ninja_forms_field_"+calc_id).html();void 0!==ninja_forms_settings.currency_symbol&&void 0!==current_value&&(current_value=current_value.replace(ninja_forms_settings.currency_symbol,"")),current_value=isNaN(current_value)?0:parseFloat(current_value),current_value!==calc_value&&("checkbox"!=jQuery("#ninja_forms_field_"+field_id+"_list_type").val()&&jQuery(this).data(calc_id+"-oldValue",key),"checkbox"==jQuery("#ninja_forms_field_"+field_id+"_list_type").val()||"radio"==jQuery("#ninja_forms_field_"+field_id+"_list_type").val()?jQuery("#ninja_forms_field_"+field_id+"_div_wrap").find(".ninja-forms-field").each(function(){jQuery(this).removeClass("ninja-forms-field-calc-no-old-op")}):jQuery(this).removeClass("ninja-forms-field-calc-no-old-op"),calc_value=calc_value.toFixed(calc_places),"."!=decimalPoint&&(calc_value=calc_value.toString().replace(".",decimalPoint)),"text"==jQuery("#ninja_forms_field_"+calc_id).attr("type")?jQuery("#ninja_forms_field_"+calc_id).val(calc_value):jQuery("#ninja_forms_field_"+calc_id).html(calc_value),jQuery("#ninja_forms_field_"+calc_id).trigger("change"))}}}})}function ninja_forms_before_submit(e,t,i){var n=jQuery(t).prop("id").replace("ninja_forms_form_","");jQuery("#nf_submit_"+n).hide(),jQuery("#nf_processing_"+n).show(),jQuery(document).data("submit_action","submit");var r=jQuery(t).triggerHandler("beforeSubmit",[e,t,i]);return!1!==r&&(r=jQuery("body").triggerHandler("beforeSubmit",[e,t,i])),!1!==r&&(r=jQuery(document).triggerHandler("beforeSubmit",[e,t,i])),r}function ninja_forms_response(e,t,i,n){var r=e.form_id;if(jQuery("#nf_processing_"+r).hide(),jQuery("#nf_submit_"+r).show(),"inline"==ninja_forms_settings.ajax_msg_format){var s=jQuery(n).triggerHandler("submitResponse",[e]);return!1!==s&&(s=jQuery("body").triggerHandler("submitResponse",[e])),!1!==s&&(s=jQuery(document).triggerHandler("submitResponse",[e])),s}}function ninja_forms_default_before_submit(e,t,i){var n=jQuery(t).prop("id").replace("ninja_forms_form_","");return jQuery("#ninja_forms_form_"+n+"_response_msg").prop("innerHTML",""),jQuery("#ninja_forms_form_"+n+"_response_msg").removeClass("ninja-forms-error-msg"),jQuery("#ninja_forms_form_"+n+"_response_msg").removeClass("ninja-forms-success-msg"),jQuery(".ninja-forms-field-error").prop("innerHTML",""),jQuery(".ninja-forms-error").removeClass("ninja-forms-error"),!0}function ninja_forms_default_response(e){return e.form_id,ninja_forms_update_error_msgs(e),ninja_forms_update_success_msg(e),0==e.errors&&void 0!==e.form_settings.landing_page&&""!=e.form_settings.landing_page&&(window.location=e.form_settings.landing_page),!0}function ninja_forms_update_success_msg(e){var t="",i=e.form_id,n=e.success,r=e.form_settings,s=r.hide_complete,a=r.clear_complete;if(0!=n){for(var o in n)t+="<p>"+n[o]+"</p>";""!=t&&(jQuery("#ninja_forms_form_"+i+"_response_msg").removeClass("ninja-forms-error-msg"),jQuery("#ninja_forms_form_"+i+"_response_msg").addClass("ninja-forms-success-msg"),jQuery("#ninja_forms_form_"+i+"_response_msg").prop("innerHTML",t),jQuery("#ninja_forms_form_"+i+"_response_msg").show()),1==s&&jQuery("#ninja_forms_form_"+i).hide(),1==a&&(jQuery("#ninja_forms_form_"+i).clearForm(),jQuery("div.label-inside input.ninja-forms-field, div.label-inside textarea.ninja-forms-field").each(function(){var e=jQuery("#"+this.id+"_label_hidden").val();this.value=e}),"rating"in jQuery("input[type=radio].ninja-forms-star")&&jQuery("input[type=radio].ninja-forms-star").rating("drain"))}}function ninja_forms_update_error_msgs(e){var t="",i=e.form_id,n=e.errors;if(0!=n){for(var r in n)if("general"==n[r].location)t+="<p>"+n[r].msg+"</p>";else{var s=n[r].location;jQuery("#ninja_forms_field_"+s+"_error").show(),jQuery("#ninja_forms_field_"+s+"_error").prop("innerHTML",n[r].msg),jQuery("#ninja_forms_field_"+s+"_div_wrap").addClass("ninja-forms-error")}""!=t&&(jQuery("#ninja_forms_form_"+i+"_response_msg").removeClass("ninja-forms-success-msg"),jQuery("#ninja_forms_form_"+i+"_response_msg").addClass("ninja-forms-error-msg"),jQuery("#ninja_forms_form_"+i+"_response_msg").prop("innerHTML",t))}}function ninja_forms_html_decode(e){if(e){var t=jQuery("<div />").html(e).text();return jQuery("<div />").html(t).text()}return""}function ninja_forms_toggle_login_register(e,t){var i="ninja_forms_form_"+t+"_"+e+"_form";if("login"==e)var n="ninja_forms_form_"+t+"_register_form";else n="ninja_forms_form_"+t+"_login_form";var r=document.getElementById(i),s=document.getElementById(n);"block"==r.style.display?r.style.display="none":(r.style.display="block",s.style.display="none")}function ninja_forms_get_form_id(e){var t=jQuery(e).closest("form").prop("id");return void 0!==t&&(""!=(t=t.replace("ninja_forms_form_",""))&&"ninja_forms_admin"!=t||(t=jQuery("#_form_id").val()),t)}
*/
function check_pass_strength(e,t){if(jQuery("#pass-strength-result").removeClass("short bad good strong"),e)switch(strength=passwordStrength(e,t),strength){case 2:jQuery("#pass-strength-result").addClass("bad").html(ninja_forms_password_strength.bad);break;case 3:jQuery("#pass-strength-result").addClass("good").html(ninja_forms_password_strength.good);break;case 4:jQuery("#pass-strength-result").addClass("strong").html(ninja_forms_password_strength.strong);break;case 5:jQuery("#pass-strength-result").addClass("short").html(ninja_forms_password_strength.mismatch);break;default:jQuery("#pass-strength-result").addClass("short").html(ninja_forms_password_strength.short)}else jQuery("#pass-strength-result").html(ninja_forms_password_strength.empty)}function passwordStrength(e,t){var i,n=0;return e!=t&&0<t.length?5:e.length<4?1:(e.match(/[0-9]/)&&(n+=10),e.match(/[a-z]/)&&(n+=26),e.match(/[A-Z]/)&&(n+=26),e.match(/[^a-zA-Z0-9]/)&&(n+=31),(i=Math.log(Math.pow(n,e.length))/Math.LN2)<40?2:i<56?3:4)}function ninja_forms_find_opposite_op(e){switch(e){case"add":return"subtract";case"subtract":return"add";case"multiply":return"divide";case"divide":return"multiply"}}function ninja_forms_var_operator(e){this.operation=e,this.evaluate=function(e,t){switch(this.operation){case"add":return e+t;case"subtract":return e-t;case"multiply":return e*t;case"divide":return e/t}}}jQuery(document).ready(function(){swiperInit(),swiperTeamInit(),selectFirstOption(),linkOnTouchEnd(),activePartners(),hoverPartners(),openPartners(),addCloseToggle(),toggleNav(),toggleAccordion(),subMenuHeight(),slideNav();var t=jQuery(window);t.width()<=767&&(mobileKeyboardOpenFix(),caseStudySwiperInit());var i=t.height()/2;t.on("scroll",function(e){t.scrollTop()>=i?jQuery(".backToTop").addClass("show"):jQuery(".backToTop").removeClass("show")}),masks(),t.on("resize",function(e){1280<=window.innerWidth&&reMask(),window.innerWidth<=1279&&1025<=window.innerWidth&&reMask(),window.innerWidth<=1024&&769<=window.innerWidth&&reMask(),window.innerWidth<=768&&768<=window.innerWidth&&reMask(),window.innerWidth<=767&&reMask()}),isMobile.Android()&&jQuery("body").addClass("android"),isMobile.iPad()?jQuery("body").addClass("ipad"):isMobile.iPhone()?jQuery("body").addClass("iphone"):0<navigator.userAgent.indexOf("Mac")&&jQuery("body").addClass("mac-os"),0<navigator.userAgent.indexOf("Chrome")?jQuery("body").addClass("chrome"):0<navigator.userAgent.indexOf("Safari")&&jQuery("body").addClass("safari"),jQuery("#cat").on("change",function(){location.href="/?wh-category="+this.value+"#viewPosts"})}),jQuery(window).resize(function(){jQuery(window).width()<=1024||(jQuery(".sub-menu").removeAttr("style"),jQuery("#menu-main-menu .main-menu-item span").removeClass("active"),jQuery(".menu-link").removeClass("focused"))}),window,document,window.jQuery,function(c,u){"use strict";function e(){if(!o){o=!0;var e,t,i,n,r=-1!==navigator.appVersion.indexOf("MSIE 10"),s=!!navigator.userAgent.match(/Trident.*rv:11\./),a=u.querySelectorAll("iframe.wp-embedded-content");for(t=0;t<a.length;t++)(i=a[t]).getAttribute("data-secret")||(n=Math.random().toString(36).substr(2,10),i.src+="#?secret="+n,i.setAttribute("data-secret",n)),(r||s)&&((e=i.cloneNode(!0)).removeAttribute("security"),i.parentNode.replaceChild(e,i))}}var t=!1,o=!1;u.querySelector&&c.addEventListener&&(t=!0),c.wp=c.wp||{},c.wp.receiveEmbedMessage||(c.wp.receiveEmbedMessage=function(e){var t=e.data;if(t&&(t.secret||t.message||t.value)&&!/[^a-zA-Z0-9]/.test(t.secret)){var i,n,r,s,a,o=u.querySelectorAll('iframe[data-secret="'+t.secret+'"]'),l=u.querySelectorAll('blockquote[data-secret="'+t.secret+'"]');for(i=0;i<l.length;i++)l[i].style.display="none";for(i=0;i<o.length;i++)n=o[i],e.source===n.contentWindow&&(n.removeAttribute("style"),"height"===t.message&&(1e3<(r=parseInt(t.value,10))?r=1e3:~~r<200&&(r=200),n.height=r),"link"===t.message&&(s=u.createElement("a"),a=u.createElement("a"),s.href=n.getAttribute("src"),a.href=t.value,a.host!==s.host||u.activeElement===n&&(c.top.location.href=t.value)))}},t&&(c.addEventListener("message",c.wp.receiveEmbedMessage,!1),u.addEventListener("DOMContentLoaded",e,!1),c.addEventListener("load",e,!1)))}(window,document),function(i){"function"==typeof define&&define.amd?define(["jquery"],i):"object"==typeof module&&module.exports?module.exports=function(e,t){return void 0===t&&(t="undefined"!=typeof window?require("jquery"):require("jquery")(e)),i(t),t}:i(jQuery)}(function(D){"use strict";function s(e){var t=e.data;e.isDefaultPrevented()||(e.preventDefault(),D(e.target).closest("form").ajaxSubmit(t))}function a(e){var t=e.target,i=D(t);if(!i.is("[type=submit],[type=image]")){var n=i.closest("[type=submit]");if(0===n.length)return;t=n[0]}var r=t.form;if("image"===(r.clk=t).type)if(void 0!==e.offsetX)r.clk_x=e.offsetX,r.clk_y=e.offsetY;else if("function"==typeof D.fn.offset){var s=i.offset();r.clk_x=e.pageX-s.left,r.clk_y=e.pageY-s.top}else r.clk_x=e.pageX-t.offsetLeft,r.clk_y=e.pageY-t.offsetTop;setTimeout(function(){r.clk=r.clk_x=r.clk_y=null},100)}function I(){if(D.fn.ajaxSubmit.debug){var e="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e)}}var S={};S.fileapi=void 0!==D('<input type="file">').get(0).files,S.formdata=void 0!==window.FormData;var z=!!D.fn.prop;D.fn.attr2=function(){if(!z)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},D.fn.ajaxSubmit=function(M,e,t,i){function n(e){function u(t){var i=null;try{t.contentWindow&&(i=t.contentWindow.document)}catch(t){I("cannot get iframe.contentWindow document: "+t)}if(i)return i;try{i=t.contentDocument?t.contentDocument:t.document}catch(e){I("cannot get iframe.contentDocument: "+e),i=t.document}return i}function t(){var e=A.attr2("target"),t=A.attr2("action"),i=A.attr("enctype")||A.attr("encoding")||"multipart/form-data";o.setAttribute("target",s),P&&!/post/i.test(P)||o.setAttribute("method","POST"),t!==h.url&&o.setAttribute("action",h.url),h.skipEncodingOverride||P&&!/post/i.test(P)||A.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),h.timeout&&(y=setTimeout(function(){g=!0,d(1)},h.timeout));var n=[];try{if(h.extraData)for(var r in h.extraData)h.extraData.hasOwnProperty(r)&&(D.isPlainObject(h.extraData[r])&&h.extraData[r].hasOwnProperty("name")&&h.extraData[r].hasOwnProperty("value")?n.push(D('<input type="hidden" name="'+h.extraData[r].name+'">',l).val(h.extraData[r].value).appendTo(o)[0]):n.push(D('<input type="hidden" name="'+r+'">',l).val(h.extraData[r]).appendTo(o)[0]));h.iframeTarget||f.appendTo(c),m.attachEvent?m.attachEvent("onload",d):m.addEventListener("load",d,!1),setTimeout(function e(){try{var t=u(m).readyState;I("state = "+t),t&&"uninitialized"===t.toLowerCase()&&setTimeout(e,50)}catch(t){I("Server abort: ",t," (",t.name,")"),d(2),y&&clearTimeout(y),y=void 0}},15);try{o.submit()}catch(e){document.createElement("form").submit.apply(o)}}finally{o.setAttribute("action",t),o.setAttribute("enctype",i),e?o.setAttribute("target",e):A.removeAttr("target"),D(n).remove()}}function d(e){if(!v.aborted&&!j){if((S=u(m))||(I("cannot access response document"),e=2),1===e&&v)return v.abort("timeout"),void w.reject(v,"timeout");if(2===e&&v)return v.abort("server abort"),void w.reject(v,"error","server abort");if(S&&S.location.href!==h.iframeSrc||g){m.detachEvent?m.detachEvent("onload",d):m.removeEventListener("load",d,!1);var t,i="success";try{if(g)throw"timeout";var n="xml"===h.dataType||S.XMLDocument||D.isXMLDoc(S);if(I("isXml="+n),!n&&window.opera&&(null===S.body||!S.body.innerHTML)&&--T)return I("requeing onLoad callback, DOM not available"),void setTimeout(d,250);var r=S.body?S.body:S.documentElement;v.responseText=r?r.innerHTML:null,v.responseXML=S.XMLDocument?S.XMLDocument:S,n&&(h.dataType="xml"),v.getResponseHeader=function(e){return{"content-type":h.dataType}[e.toLowerCase()]},r&&(v.status=Number(r.getAttribute("status"))||v.status,v.statusText=r.getAttribute("statusText")||v.statusText);var s=(h.dataType||"").toLowerCase(),a=/(json|script|text)/.test(s);if(a||h.textarea){var o=S.getElementsByTagName("textarea")[0];if(o)v.responseText=o.value,v.status=Number(o.getAttribute("status"))||v.status,v.statusText=o.getAttribute("statusText")||v.statusText;else if(a){var l=S.getElementsByTagName("pre")[0],c=S.getElementsByTagName("body")[0];l?v.responseText=l.textContent?l.textContent:l.innerText:c&&(v.responseText=c.textContent?c.textContent:c.innerText)}}else"xml"===s&&!v.responseXML&&v.responseText&&(v.responseXML=k(v.responseText));try{x=E(v,s,h)}catch(e){i="parsererror",v.error=t=e||i}}catch(e){I("error caught: ",e),i="error",v.error=t=e||i}v.aborted&&(I("upload aborted"),i=null),v.status&&(i=200<=v.status&&v.status<300||304===v.status?"success":"error"),"success"===i?(h.success&&h.success.call(h.context,x,"success",v),w.resolve(v.responseText,"success",v),p&&D.event.trigger("ajaxSuccess",[v,h])):i&&(void 0===t&&(t=v.statusText),h.error&&h.error.call(h.context,v,i,t),w.reject(v,"error",t),p&&D.event.trigger("ajaxError",[v,h,t])),p&&D.event.trigger("ajaxComplete",[v,h]),p&&!--D.active&&D.event.trigger("ajaxStop"),h.complete&&h.complete.call(h.context,v,i),j=!0,h.timeout&&clearTimeout(y),setTimeout(function(){h.iframeTarget?f.attr("src",h.iframeSrc):f.remove(),v.responseXML=null},100)}}}var i,n,h,p,s,f,m,v,r,a,g,y,o=A[0],w=D.Deferred();if(w.abort=function(e){v.abort(e)},e)for(n=0;n<Q.length;n++)i=D(Q[n]),z?i.prop("disabled",!1):i.removeAttr("disabled");(h=D.extend(!0,{},D.ajaxSettings,M)).context=h.context||h,s="jqFormIO"+(new Date).getTime();var l=o.ownerDocument,c=A.closest("body");if(h.iframeTarget?(a=(f=D(h.iframeTarget,l)).attr2("name"))?s=a:f.attr2("name",s):(f=D('<iframe name="'+s+'" src="'+h.iframeSrc+'" />',l)).css({position:"absolute",top:"-1000px",left:"-1000px"}),m=f[0],v={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var t="timeout"===e?"timeout":"aborted";I("aborting upload... "+t),this.aborted=1;try{m.contentWindow.document.execCommand&&m.contentWindow.document.execCommand("Stop")}catch(e){}f.attr("src",h.iframeSrc),v.error=t,h.error&&h.error.call(h.context,v,t,e),p&&D.event.trigger("ajaxError",[v,h,t]),h.complete&&h.complete.call(h.context,v,t)}},(p=h.global)&&0==D.active++&&D.event.trigger("ajaxStart"),p&&D.event.trigger("ajaxSend",[v,h]),h.beforeSend&&!1===h.beforeSend.call(h.context,v,h))return h.global&&D.active--,w.reject(),w;if(v.aborted)return w.reject(),w;(r=o.clk)&&(a=r.name)&&!r.disabled&&(h.extraData=h.extraData||{},h.extraData[a]=r.value,"image"===r.type&&(h.extraData[a+".x"]=o.clk_x,h.extraData[a+".y"]=o.clk_y));var _=D("meta[name=csrf-token]").attr("content"),b=D("meta[name=csrf-param]").attr("content");b&&_&&(h.extraData=h.extraData||{},h.extraData[b]=_),h.forceSync?t():setTimeout(t,10);var x,S,j,T=50,k=D.parseXML||function(e,t){return window.ActiveXObject?((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!==t.documentElement.nodeName?t:null},C=D.parseJSON||function(e){return window.eval("("+e+")")},E=function(e,t,i){var n=e.getResponseHeader("content-type")||"",r=("xml"===t||!t)&&0<=n.indexOf("xml"),s=r?e.responseXML:e.responseText;return r&&"parsererror"===s.documentElement.nodeName&&D.error&&D.error("parsererror"),i&&i.dataFilter&&(s=i.dataFilter(s,t)),"string"==typeof s&&(("json"===t||!t)&&0<=n.indexOf("json")?s=C(s):("script"===t||!t)&&0<=n.indexOf("javascript")&&D.globalEval(s)),s};return w}if(!this.length)return I("ajaxSubmit: skipping submit process - no element selected"),this;var P,r,s,A=this;"function"==typeof M?M={success:M}:"string"==typeof M||!1===M&&0<arguments.length?(M={url:M,data:e,dataType:t},"function"==typeof i&&(M.success=i)):void 0===M&&(M={}),P=M.method||M.type||this.attr2("method"),s=(s=(s="string"==typeof(r=M.url||this.attr2("action"))?D.trim(r):"")||window.location.href||"")&&(s.match(/^([^#]+)/)||[])[1],M=D.extend(!0,{url:s,success:D.ajaxSettings.success,type:P||D.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},M);var a={};if(this.trigger("form-pre-serialize",[this,M,a]),a.veto)return I("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(M.beforeSerialize&&!1===M.beforeSerialize(this,M))return I("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var o=M.traditional;void 0===o&&(o=D.ajaxSettings.traditional);var l,Q=[],c=this.formToArray(M.semantic,Q,M.filtering);if(M.data){var u=D.isFunction(M.data)?M.data(c):M.data;M.extraData=u,l=D.param(u,o)}if(M.beforeSubmit&&!1===M.beforeSubmit(c,this,M))return I("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[c,this,M,a]),a.veto)return I("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var d=D.param(c,o);l&&(d=d?d+"&"+l:l),"GET"===M.type.toUpperCase()?(M.url+=(0<=M.url.indexOf("?")?"&":"?")+d,M.data=null):M.data=d;var h=[];if(M.resetForm&&h.push(function(){A.resetForm()}),M.clearForm&&h.push(function(){A.clearForm(M.includeHidden)}),!M.dataType&&M.target){var p=M.success||function(){};h.push(function(e,t,i){var n=arguments,r=M.replaceTarget?"replaceWith":"html";D(M.target)[r](e).each(function(){p.apply(this,n)})})}else M.success&&(D.isArray(M.success)?D.merge(h,M.success):h.push(M.success));if(M.success=function(e,t,i){for(var n=M.context||this,r=0,s=h.length;r<s;r++)h[r].apply(n,[e,t,i||A,A])},M.error){var f=M.error;M.error=function(e,t,i){var n=M.context||this;f.apply(n,[e,t,i,A])}}if(M.complete){var m=M.complete;M.complete=function(e,t){var i=M.context||this;m.apply(i,[e,t,A])}}var v=0<D("input[type=file]:enabled",this).filter(function(){return""!==D(this).val()}).length,g="multipart/form-data",y=A.attr("enctype")===g||A.attr("encoding")===g,w=S.fileapi&&S.formdata;I("fileAPI :"+w);var _,b=(v||y)&&!w;!1!==M.iframe&&(M.iframe||b)?M.closeKeepAlive?D.get(M.closeKeepAlive,function(){_=n(c)}):_=n(c):_=(v||y)&&w?function(e){for(var i=new FormData,t=0;t<e.length;t++)i.append(e[t].name,e[t].value);if(M.extraData){var n=function(e){var t,i,n=D.param(e,M.traditional).split("&"),r=n.length,s=[];for(t=0;t<r;t++)n[t]=n[t].replace(/\+/g," "),i=n[t].split("="),s.push([decodeURIComponent(i[0]),decodeURIComponent(i[1])]);return s}(M.extraData);for(t=0;t<n.length;t++)n[t]&&i.append(n[t][0],n[t][1])}M.data=null;var r=D.extend(!0,{},D.ajaxSettings,M,{contentType:!1,processData:!1,cache:!1,type:P||"POST"});M.uploadProgress&&(r.xhr=function(){var e=D.ajaxSettings.xhr();return e.upload&&e.upload.addEventListener("progress",function(e){var t=0,i=e.loaded||e.position,n=e.total;e.lengthComputable&&(t=Math.ceil(i/n*100)),M.uploadProgress(e,i,n,t)},!1),e}),r.data=null;var s=r.beforeSend;return r.beforeSend=function(e,t){M.formData?t.data=M.formData:t.data=i,s&&s.call(this,e,t)},D.ajax(r)}(c):D.ajax(M),A.removeData("jqxhr").data("jqxhr",_);for(var x=0;x<Q.length;x++)Q[x]=null;return this.trigger("form-submit-notify",[this,M]),this},D.fn.ajaxForm=function(e,t,i,n){if(("string"==typeof e||!1===e&&0<arguments.length)&&(e={url:e,data:t,dataType:i},"function"==typeof n&&(e.success=n)),(e=e||{}).delegation=e.delegation&&D.isFunction(D.fn.on),e.delegation||0!==this.length)return e.delegation?(D(document).off("submit.form-plugin",this.selector,s).off("click.form-plugin",this.selector,a).on("submit.form-plugin",this.selector,e,s).on("click.form-plugin",this.selector,e,a),this):this.ajaxFormUnbind().on("submit.form-plugin",e,s).on("click.form-plugin",e,a);var r={s:this.selector,c:this.context};return!D.isReady&&r.s?(I("DOM not ready, queuing ajaxForm"),D(function(){D(r.s,r.c).ajaxForm(e)})):I("terminating; zero elements found by selector"+(D.isReady?"":" (DOM not ready)")),this},D.fn.ajaxFormUnbind=function(){return this.off("submit.form-plugin click.form-plugin")},D.fn.formToArray=function(e,t,i){var n=[];if(0===this.length)return n;var r,s,a,o,l,c,u,d,h=this[0],p=this.attr("id"),f=e||void 0===h.elements?h.getElementsByTagName("*"):h.elements;if(f=f&&D.makeArray(f),p&&(e||/(Edge|Trident)\//.test(navigator.userAgent))&&((r=D(':input[form="'+p+'"]').get()).length&&(f=(f||[]).concat(r))),!f||!f.length)return n;for(D.isFunction(i)&&(f=D.map(f,i)),s=0,u=f.length;s<u;s++)if((o=(c=f[s]).name)&&!c.disabled)if(e&&h.clk&&"image"===c.type)h.clk===c&&(n.push({name:o,value:D(c).val(),type:c.type}),n.push({name:o+".x",value:h.clk_x},{name:o+".y",value:h.clk_y}));else if((l=D.fieldValue(c,!0))&&l.constructor===Array)for(t&&t.push(c),a=0,d=l.length;a<d;a++)n.push({name:o,value:l[a]});else if(S.fileapi&&"file"===c.type){t&&t.push(c);var m=c.files;if(m.length)for(a=0;a<m.length;a++)n.push({name:o,value:m[a],type:c.type});else n.push({name:o,value:"",type:c.type})}else null!=l&&(t&&t.push(c),n.push({name:o,value:l,type:c.type,required:c.required}));if(!e&&h.clk){var v=D(h.clk),g=v[0];(o=g.name)&&!g.disabled&&"image"===g.type&&(n.push({name:o,value:v.val()}),n.push({name:o+".x",value:h.clk_x},{name:o+".y",value:h.clk_y}))}return n},D.fn.formSerialize=function(e){return D.param(this.formToArray(e))},D.fn.fieldSerialize=function(r){var s=[];return this.each(function(){var e=this.name;if(e){var t=D.fieldValue(this,r);if(t&&t.constructor===Array)for(var i=0,n=t.length;i<n;i++)s.push({name:e,value:t[i]});else null!=t&&s.push({name:this.name,value:t})}}),D.param(s)},D.fn.fieldValue=function(e){for(var t=[],i=0,n=this.length;i<n;i++){var r=this[i],s=D.fieldValue(r,e);null==s||s.constructor===Array&&!s.length||(s.constructor===Array?D.merge(t,s):t.push(s))}return t},D.fieldValue=function(e,t){var i=e.name,n=e.type,r=e.tagName.toLowerCase();if(void 0===t&&(t=!0),t&&(!i||e.disabled||"reset"===n||"button"===n||("checkbox"===n||"radio"===n)&&!e.checked||("submit"===n||"image"===n)&&e.form&&e.form.clk!==e||"select"===r&&-1===e.selectedIndex))return null;if("select"!==r)return D(e).val().replace(/\r?\n/g,"\r\n");var s=e.selectedIndex;if(s<0)return null;for(var a=[],o=e.options,l="select-one"===n,c=l?s+1:o.length,u=l?s:0;u<c;u++){var d=o[u];if(d.selected&&!d.disabled){var h=d.value;if(h=h||(d.attributes&&d.attributes.value&&!d.attributes.value.specified?d.text:d.value),l)return h;a.push(h)}}return a},D.fn.clearForm=function(e){return this.each(function(){D("input,select,textarea",this).clearFields(e)})},D.fn.clearFields=D.fn.clearInputs=function(i){var n=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var e=this.type,t=this.tagName.toLowerCase();n.test(e)||"textarea"===t?this.value="":"checkbox"===e||"radio"===e?this.checked=!1:"select"===t?this.selectedIndex=-1:"file"===e?/MSIE/.test(navigator.userAgent)?D(this).replaceWith(D(this).clone(!0)):D(this).val(""):i&&(!0===i&&/hidden/.test(e)||"string"==typeof i&&D(this).is(i))&&(this.value="")})},D.fn.resetForm=function(){return this.each(function(){var t=D(this),e=this.tagName.toLowerCase();switch(e){case"input":this.checked=this.defaultChecked;case"textarea":return this.value=this.defaultValue,!0;case"option":case"optgroup":var i=t.parents("select");return i.length&&i[0].multiple?"option"===e?this.selected=this.defaultSelected:t.find("option").resetForm():i.resetForm(),!0;case"select":return t.find("option").each(function(e){if(this.selected=this.defaultSelected,this.defaultSelected&&!t[0].multiple)return t[0].selectedIndex=e,!1}),!0;case"label":var n=D(t.attr("for")),r=t.find("input,select,textarea");return n[0]&&r.unshift(n[0]),r.resetForm(),!0;case"form":return"function"!=typeof this.reset&&("object"!=typeof this.reset||this.reset.nodeType)||this.reset(),!0;default:return t.find("form,input,label,select,textarea").resetForm(),!0}})},D.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},D.fn.selected=function(i){return void 0===i&&(i=!0),this.each(function(){var e=this.type;if("checkbox"===e||"radio"===e)this.checked=i;else if("option"===this.tagName.toLowerCase()){var t=D(this).parent("select");i&&t[0]&&"select-one"===t[0].type&&t.find("option").selected(!1),this.selected=i}})},D.fn.ajaxSubmit.debug=!1}),function(){function e(o){return function(e,t,i,n){t=w(t,n,4);var r=!k(e)&&y.keys(e),s=(r||e).length,a=0<o?0:s-1;return arguments.length<3&&(i=e[r?r[a]:a],a+=o),function(e,t,i,n,r,s){for(;0<=r&&r<s;r+=o){var a=n?n[r]:r;i=t(i,e[a],a,e)}return i}(e,t,i,r,a,s)}}function t(s){return function(e,t,i){t=_(t,i);for(var n=T(e),r=0<s?0:n-1;0<=r&&r<n;r+=s)if(t(e[r],r,e))return r;return-1}}function i(s,a,o){return function(e,t,i){var n=0,r=T(e);if("number"==typeof i)0<s?n=0<=i?i:Math.max(i+r,n):r=0<=i?Math.min(i+1,r):i+r+1;else if(o&&i&&r)return e[i=o(e,t)]===t?i:-1;if(t!=t)return 0<=(i=a(d.call(e,n,r),y.isNaN))?i+n:-1;for(i=0<s?n:r-1;0<=i&&i<r;i+=s)if(e[i]===t)return i;return-1}}function n(e,t){var i=A.length,n=e.constructor,r=y.isFunction(n)&&n.prototype||l,s="constructor";for(y.has(e,s)&&!y.contains(t,s)&&t.push(s);i--;)(s=A[i])in e&&e[s]!==r[s]&&!y.contains(t,s)&&t.push(s)}function r(){}var s=this,a=s._,o=Array.prototype,l=Object.prototype,c=Function.prototype,u=o.push,d=o.slice,h=l.toString,p=l.hasOwnProperty,f=Array.isArray,m=Object.keys,v=c.bind,g=Object.create,y=function(e){return e instanceof y?e:this instanceof y?void(this._wrapped=e):new y(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):s._=y,y.VERSION="1.8.3";var w=function(r,s,e){if(void 0===s)return r;switch(null==e?3:e){case 1:return function(e){return r.call(s,e)};case 2:return function(e,t){return r.call(s,e,t)};case 3:return function(e,t,i){return r.call(s,e,t,i)};case 4:return function(e,t,i,n){return r.call(s,e,t,i,n)}}return function(){return r.apply(s,arguments)}},_=function(e,t,i){return null==e?y.identity:y.isFunction(e)?w(e,t,i):y.isObject(e)?y.matcher(e):y.property(e)};y.iteratee=function(e,t){return _(e,t,1/0)};function b(l,c){return function(e){var t=arguments.length;if(t<2||null==e)return e;for(var i=1;i<t;i++)for(var n=arguments[i],r=l(n),s=r.length,a=0;a<s;a++){var o=r[a];c&&void 0!==e[o]||(e[o]=n[o])}return e}}function x(e){if(!y.isObject(e))return{};if(g)return g(e);r.prototype=e;var t=new r;return r.prototype=null,t}function S(t){return function(e){return null==e?void 0:e[t]}}var j=Math.pow(2,53)-1,T=S("length"),k=function(e){var t=T(e);return"number"==typeof t&&0<=t&&t<=j};y.each=y.forEach=function(e,t,i){var n,r;if(t=w(t,i),k(e))for(n=0,r=e.length;n<r;n++)t(e[n],n,e);else{var s=y.keys(e);for(n=0,r=s.length;n<r;n++)t(e[s[n]],s[n],e)}return e},y.map=y.collect=function(e,t,i){t=_(t,i);for(var n=!k(e)&&y.keys(e),r=(n||e).length,s=Array(r),a=0;a<r;a++){var o=n?n[a]:a;s[a]=t(e[o],o,e)}return s},y.reduce=y.foldl=y.inject=e(1),y.reduceRight=y.foldr=e(-1),y.find=y.detect=function(e,t,i){var n;return void 0!==(n=k(e)?y.findIndex(e,t,i):y.findKey(e,t,i))&&-1!==n?e[n]:void 0},y.filter=y.select=function(e,n,t){var r=[];return n=_(n,t),y.each(e,function(e,t,i){n(e,t,i)&&r.push(e)}),r},y.reject=function(e,t,i){return y.filter(e,y.negate(_(t)),i)},y.every=y.all=function(e,t,i){t=_(t,i);for(var n=!k(e)&&y.keys(e),r=(n||e).length,s=0;s<r;s++){var a=n?n[s]:s;if(!t(e[a],a,e))return!1}return!0},y.some=y.any=function(e,t,i){t=_(t,i);for(var n=!k(e)&&y.keys(e),r=(n||e).length,s=0;s<r;s++){var a=n?n[s]:s;if(t(e[a],a,e))return!0}return!1},y.contains=y.includes=y.include=function(e,t,i,n){return k(e)||(e=y.values(e)),"number"==typeof i&&!n||(i=0),0<=y.indexOf(e,t,i)},y.invoke=function(e,i){var n=d.call(arguments,2),r=y.isFunction(i);return y.map(e,function(e){var t=r?i:e[i];return null==t?t:t.apply(e,n)})},y.pluck=function(e,t){return y.map(e,y.property(t))},y.where=function(e,t){return y.filter(e,y.matcher(t))},y.findWhere=function(e,t){return y.find(e,y.matcher(t))},y.max=function(e,n,t){var i,r,s=-1/0,a=-1/0;if(null==n&&null!=e)for(var o=0,l=(e=k(e)?e:y.values(e)).length;o<l;o++)i=e[o],s<i&&(s=i);else n=_(n,t),y.each(e,function(e,t,i){r=n(e,t,i),(a<r||r===-1/0&&s===-1/0)&&(s=e,a=r)});return s},y.min=function(e,n,t){var i,r,s=1/0,a=1/0;if(null==n&&null!=e)for(var o=0,l=(e=k(e)?e:y.values(e)).length;o<l;o++)(i=e[o])<s&&(s=i);else n=_(n,t),y.each(e,function(e,t,i){((r=n(e,t,i))<a||1/0===r&&1/0===s)&&(s=e,a=r)});return s},y.shuffle=function(e){for(var t,i=k(e)?e:y.values(e),n=i.length,r=Array(n),s=0;s<n;s++)(t=y.random(0,s))!==s&&(r[s]=r[t]),r[t]=i[s];return r},y.sample=function(e,t,i){return null==t||i?(k(e)||(e=y.values(e)),e[y.random(e.length-1)]):y.shuffle(e).slice(0,Math.max(0,t))},y.sortBy=function(e,n,t){return n=_(n,t),y.pluck(y.map(e,function(e,t,i){return{value:e,index:t,criteria:n(e,t,i)}}).sort(function(e,t){var i=e.criteria,n=t.criteria;if(i!==n){if(n<i||void 0===i)return 1;if(i<n||void 0===n)return-1}return e.index-t.index}),"value")};function C(a){return function(n,r,e){var s={};return r=_(r,e),y.each(n,function(e,t){var i=r(e,t,n);a(s,e,i)}),s}}y.groupBy=C(function(e,t,i){y.has(e,i)?e[i].push(t):e[i]=[t]}),y.indexBy=C(function(e,t,i){e[i]=t}),y.countBy=C(function(e,t,i){y.has(e,i)?e[i]++:e[i]=1}),y.toArray=function(e){return e?y.isArray(e)?d.call(e):k(e)?y.map(e,y.identity):y.values(e):[]},y.size=function(e){return null==e?0:k(e)?e.length:y.keys(e).length},y.partition=function(e,n,t){n=_(n,t);var r=[],s=[];return y.each(e,function(e,t,i){(n(e,t,i)?r:s).push(e)}),[r,s]},y.first=y.head=y.take=function(e,t,i){return null==e?void 0:null==t||i?e[0]:y.initial(e,e.length-t)},y.initial=function(e,t,i){return d.call(e,0,Math.max(0,e.length-(null==t||i?1:t)))},y.last=function(e,t,i){return null==e?void 0:null==t||i?e[e.length-1]:y.rest(e,Math.max(0,e.length-t))},y.rest=y.tail=y.drop=function(e,t,i){return d.call(e,null==t||i?1:t)},y.compact=function(e){return y.filter(e,y.identity)};var E=function(e,t,i,n){for(var r=[],s=0,a=n||0,o=T(e);a<o;a++){var l=e[a];if(k(l)&&(y.isArray(l)||y.isArguments(l))){t||(l=E(l,t,i));var c=0,u=l.length;for(r.length+=u;c<u;)r[s++]=l[c++]}else i||(r[s++]=l)}return r};y.flatten=function(e,t){return E(e,t,!1)},y.without=function(e){return y.difference(e,d.call(arguments,1))},y.uniq=y.unique=function(e,t,i,n){y.isBoolean(t)||(n=i,i=t,t=!1),null!=i&&(i=_(i,n));for(var r=[],s=[],a=0,o=T(e);a<o;a++){var l=e[a],c=i?i(l,a,e):l;t?(a&&s===c||r.push(l),s=c):i?y.contains(s,c)||(s.push(c),r.push(l)):y.contains(r,l)||r.push(l)}return r},y.union=function(){return y.uniq(E(arguments,!0,!0))},y.intersection=function(e){for(var t=[],i=arguments.length,n=0,r=T(e);n<r;n++){var s=e[n];if(!y.contains(t,s)){for(var a=1;a<i&&y.contains(arguments[a],s);a++);a===i&&t.push(s)}}return t},y.difference=function(e){var t=E(arguments,!0,!0,1);return y.filter(e,function(e){return!y.contains(t,e)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(e){for(var t=e&&y.max(e,T).length||0,i=Array(t),n=0;n<t;n++)i[n]=y.pluck(e,n);return i},y.object=function(e,t){for(var i={},n=0,r=T(e);n<r;n++)t?i[e[n]]=t[n]:i[e[n][0]]=e[n][1];return i},y.findIndex=t(1),y.findLastIndex=t(-1),y.sortedIndex=function(e,t,i,n){for(var r=(i=_(i,n,1))(t),s=0,a=T(e);s<a;){var o=Math.floor((s+a)/2);i(e[o])<r?s=o+1:a=o}return s},y.indexOf=i(1,y.findIndex,y.sortedIndex),y.lastIndexOf=i(-1,y.findLastIndex),y.range=function(e,t,i){null==t&&(t=e||0,e=0),i=i||1;for(var n=Math.max(Math.ceil((t-e)/i),0),r=Array(n),s=0;s<n;s++,e+=i)r[s]=e;return r};function M(e,t,i,n,r){if(!(n instanceof t))return e.apply(i,r);var s=x(e.prototype),a=e.apply(s,r);return y.isObject(a)?a:s}y.bind=function(e,t){if(v&&e.bind===v)return v.apply(e,d.call(arguments,1));if(!y.isFunction(e))throw new TypeError("Bind must be called on a function");var i=d.call(arguments,2),n=function(){return M(e,n,t,this,i.concat(d.call(arguments)))};return n},y.partial=function(r){var s=d.call(arguments,1),a=function(){for(var e=0,t=s.length,i=Array(t),n=0;n<t;n++)i[n]=s[n]===y?arguments[e++]:s[n];for(;e<arguments.length;)i.push(arguments[e++]);return M(r,a,this,this,i)};return a},y.bindAll=function(e){var t,i,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(t=1;t<n;t++)e[i=arguments[t]]=y.bind(e[i],e);return e},y.memoize=function(n,r){var s=function(e){var t=s.cache,i=""+(r?r.apply(this,arguments):e);return y.has(t,i)||(t[i]=n.apply(this,arguments)),t[i]};return s.cache={},s},y.delay=function(e,t){var i=d.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)},y.defer=y.partial(y.delay,y,1),y.throttle=function(i,n,r){var s,a,o,l=null,c=0;r=r||{};function u(){c=!1===r.leading?0:y.now(),l=null,o=i.apply(s,a),l||(s=a=null)}return function(){var e=y.now();c||!1!==r.leading||(c=e);var t=n-(e-c);return s=this,a=arguments,t<=0||n<t?(l&&(clearTimeout(l),l=null),c=e,o=i.apply(s,a),l||(s=a=null)):l||!1===r.trailing||(l=setTimeout(u,t)),o}},y.debounce=function(t,i,n){var r,s,a,o,l,c=function(){var e=y.now()-o;e<i&&0<=e?r=setTimeout(c,i-e):(r=null,n||(l=t.apply(a,s),r||(a=s=null)))};return function(){a=this,s=arguments,o=y.now();var e=n&&!r;return r=r||setTimeout(c,i),e&&(l=t.apply(a,s),a=s=null),l}},y.wrap=function(e,t){return y.partial(t,e)},y.negate=function(e){return function(){return!e.apply(this,arguments)}},y.compose=function(){var i=arguments,n=i.length-1;return function(){for(var e=n,t=i[n].apply(this,arguments);e--;)t=i[e].call(this,t);return t}},y.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},y.before=function(e,t){var i;return function(){return 0<--e&&(i=t.apply(this,arguments)),e<=1&&(t=null),i}},y.once=y.partial(y.before,2);var P=!{toString:null}.propertyIsEnumerable("toString"),A=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(e){if(!y.isObject(e))return[];if(m)return m(e);var t=[];for(var i in e)y.has(e,i)&&t.push(i);return P&&n(e,t),t},y.allKeys=function(e){if(!y.isObject(e))return[];var t=[];for(var i in e)t.push(i);return P&&n(e,t),t},y.values=function(e){for(var t=y.keys(e),i=t.length,n=Array(i),r=0;r<i;r++)n[r]=e[t[r]];return n},y.mapObject=function(e,t,i){t=_(t,i);for(var n,r=y.keys(e),s=r.length,a={},o=0;o<s;o++)a[n=r[o]]=t(e[n],n,e);return a},y.pairs=function(e){for(var t=y.keys(e),i=t.length,n=Array(i),r=0;r<i;r++)n[r]=[t[r],e[t[r]]];return n},y.invert=function(e){for(var t={},i=y.keys(e),n=0,r=i.length;n<r;n++)t[e[i[n]]]=i[n];return t},y.functions=y.methods=function(e){var t=[];for(var i in e)y.isFunction(e[i])&&t.push(i);return t.sort()},y.extend=b(y.allKeys),y.extendOwn=y.assign=b(y.keys),y.findKey=function(e,t,i){t=_(t,i);for(var n,r=y.keys(e),s=0,a=r.length;s<a;s++)if(t(e[n=r[s]],n,e))return n},y.pick=function(e,t,i){var n,r,s={},a=e;if(null==a)return s;y.isFunction(t)?(r=y.allKeys(a),n=w(t,i)):(r=E(arguments,!1,!1,1),n=function(e,t,i){return t in i},a=Object(a));for(var o=0,l=r.length;o<l;o++){var c=r[o],u=a[c];n(u,c,a)&&(s[c]=u)}return s},y.omit=function(e,t,i){if(y.isFunction(t))t=y.negate(t);else{var n=y.map(E(arguments,!1,!1,1),String);t=function(e,t){return!y.contains(n,t)}}return y.pick(e,t,i)},y.defaults=b(y.allKeys,!0),y.create=function(e,t){var i=x(e);return t&&y.extendOwn(i,t),i},y.clone=function(e){return y.isObject(e)?y.isArray(e)?e.slice():y.extend({},e):e},y.tap=function(e,t){return t(e),e},y.isMatch=function(e,t){var i=y.keys(t),n=i.length;if(null==e)return!n;for(var r=Object(e),s=0;s<n;s++){var a=i[s];if(t[a]!==r[a]||!(a in r))return!1}return!0};var Q=function(e,t,i,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof y&&(e=e._wrapped),t instanceof y&&(t=t._wrapped);var r=h.call(e);if(r!==h.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}var s="[object Array]"===r;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,o=t.constructor;if(a!==o&&!(y.isFunction(a)&&a instanceof a&&y.isFunction(o)&&o instanceof o)&&"constructor"in e&&"constructor"in t)return!1}n=n||[];for(var l=(i=i||[]).length;l--;)if(i[l]===e)return n[l]===t;if(i.push(e),n.push(t),s){if((l=e.length)!==t.length)return!1;for(;l--;)if(!Q(e[l],t[l],i,n))return!1}else{var c,u=y.keys(e);if(l=u.length,y.keys(t).length!==l)return!1;for(;l--;)if(c=u[l],!y.has(t,c)||!Q(e[c],t[c],i,n))return!1}return i.pop(),n.pop(),!0};y.isEqual=function(e,t){return Q(e,t)},y.isEmpty=function(e){return null==e||(k(e)&&(y.isArray(e)||y.isString(e)||y.isArguments(e))?0===e.length:0===y.keys(e).length)},y.isElement=function(e){return!(!e||1!==e.nodeType)},y.isArray=f||function(e){return"[object Array]"===h.call(e)},y.isObject=function(e){var t=typeof e;return"function"==t||"object"==t&&!!e},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){y["is"+t]=function(e){return h.call(e)==="[object "+t+"]"}}),y.isArguments(arguments)||(y.isArguments=function(e){return y.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(e){return"function"==typeof e||!1}),y.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},y.isNaN=function(e){return y.isNumber(e)&&e!==+e},y.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===h.call(e)},y.isNull=function(e){return null===e},y.isUndefined=function(e){return void 0===e},y.has=function(e,t){return null!=e&&p.call(e,t)},y.noConflict=function(){return s._=a,this},y.identity=function(e){return e},y.constant=function(e){return function(){return e}},y.noop=function(){},y.property=S,y.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},y.matcher=y.matches=function(t){return t=y.extendOwn({},t),function(e){return y.isMatch(e,t)}},y.times=function(e,t,i){var n=Array(Math.max(0,e));t=w(t,i,1);for(var r=0;r<e;r++)n[r]=t(r);return n},y.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},y.now=Date.now||function(){return(new Date).getTime()};function D(t){function i(e){return t[e]}var e="(?:"+y.keys(t).join("|")+")",n=RegExp(e),r=RegExp(e,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(r,i):e}}var I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},z=y.invert(I);y.escape=D(I),y.unescape=D(z),y.result=function(e,t,i){var n=null==e?void 0:e[t];return void 0===n&&(n=i),y.isFunction(n)?n.call(e):n};var L=0;y.uniqueId=function(e){var t=++L+"";return e?e+t:t},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};function O(e){return"\\"+B[e]}var H=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},N=/\\|'|\r|\n|\u2028|\u2029/g;y.template=function(s,e,t){!e&&t&&(e=t),e=y.defaults({},e,y.templateSettings);var i=RegExp([(e.escape||H).source,(e.interpolate||H).source,(e.evaluate||H).source].join("|")+"|$","g"),a=0,o="__p+='";s.replace(i,function(e,t,i,n,r){return o+=s.slice(a,r).replace(N,O),a=r+e.length,t?o+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":n&&(o+="';\n"+n+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var n=new Function(e.variable||"obj","_",o)}catch(e){throw e.source=o,e}function r(e){return n.call(this,e,y)}var l=e.variable||"obj";return r.source="function("+l+"){\n"+o+"}",r},y.chain=function(e){var t=y(e);return t._chain=!0,t};function W(e,t){return e._chain?y(t).chain():t}y.mixin=function(i){y.each(y.functions(i),function(e){var t=y[e]=i[e];y.prototype[e]=function(){var e=[this._wrapped];return u.apply(e,arguments),W(this,t.apply(y,e))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var i=o[t];y.prototype[t]=function(){var e=this._wrapped;return i.apply(e,arguments),"shift"!==t&&"splice"!==t||0!==e.length||delete e[0],W(this,e)}}),y.each(["concat","join","slice"],function(e){var t=o[e];y.prototype[e]=function(){return W(this,t.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}.call(this),function(n){var r="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(e,t,i){r.Backbone=n(r,i,e,t)});else if("undefined"!=typeof exports){var e,t=require("underscore");try{e=require("jquery")}catch(e){}n(r,exports,t,e)}else r.Backbone=n(r,{},r._,r.jQuery||r.Zepto||r.ender||r.$)}(function(e,l,b,t){var i=e.Backbone,s=Array.prototype.slice;l.VERSION="1.3.3",l.$=t,l.noConflict=function(){return e.Backbone=i,this},l.emulateHTTP=!1,l.emulateJSON=!1;function n(i,e,n){b.each(e,function(e,t){b[t]&&(i.prototype[t]=function(e,n,r){switch(e){case 1:return function(){return b[n](this[r])};case 2:return function(e){return b[n](this[r],e)};case 3:return function(e,t){return b[n](this[r],a(e,this),t)};case 4:return function(e,t,i){return b[n](this[r],a(e,this),t,i)};default:return function(){var e=s.call(arguments);return e.unshift(this[r]),b[n].apply(b,e)}}}(e,t,n))})}var a=function(t,e){return b.isFunction(t)?t:b.isObject(t)&&!e._isModel(t)?r(t):b.isString(t)?function(e){return e.get(t)}:t},r=function(e){var t=b.matches(e);return function(e){return t(e.attributes)}},o=l.Events={},c=/\s+/,u=function(e,t,i,n,r){var s,a=0;if(i&&"object"==typeof i){void 0!==n&&"context"in r&&void 0===r.context&&(r.context=n);for(s=b.keys(i);a<s.length;a++)t=u(e,t,s[a],i[s[a]],r)}else if(i&&c.test(i))for(s=i.split(c);a<s.length;a++)t=e(t,s[a],n,r);else t=e(t,i,n,r);return t};o.on=function(e,t,i){return d(this,e,t,i)};var d=function(e,t,i,n,r){e._events=u(h,e._events||{},t,i,{context:n,ctx:e,listening:r}),r&&((e._listeners||(e._listeners={}))[r.id]=r);return e};o.listenTo=function(e,t,i){if(!e)return this;var n=e._listenId||(e._listenId=b.uniqueId("l")),r=this._listeningTo||(this._listeningTo={}),s=r[n];if(!s){var a=this._listenId||(this._listenId=b.uniqueId("l"));s=r[n]={obj:e,objId:n,id:a,listeningTo:r,count:0}}return d(e,t,i,this,s),this};var h=function(e,t,i,n){if(i){var r=e[t]||(e[t]=[]),s=n.context,a=n.ctx,o=n.listening;o&&o.count++,r.push({callback:i,context:s,ctx:s||a,listening:o})}return e};o.off=function(e,t,i){return this._events&&(this._events=u(p,this._events,e,t,{context:i,listeners:this._listeners})),this},o.stopListening=function(e,t,i){var n=this._listeningTo;if(!n)return this;for(var r=e?[e._listenId]:b.keys(n),s=0;s<r.length;s++){var a=n[r[s]];if(!a)break;a.obj.off(t,i,this)}return this};var p=function(e,t,i,n){if(e){var r,s=0,a=n.context,o=n.listeners;if(t||i||a){for(var l=t?[t]:b.keys(e);s<l.length;s++){var c=e[t=l[s]];if(!c)break;for(var u=[],d=0;d<c.length;d++){var h=c[d];i&&i!==h.callback&&i!==h.callback._callback||a&&a!==h.context?u.push(h):(r=h.listening)&&0==--r.count&&(delete o[r.id],delete r.listeningTo[r.objId])}u.length?e[t]=u:delete e[t]}return e}for(var p=b.keys(o);s<p.length;s++)delete o[(r=o[p[s]]).id],delete r.listeningTo[r.objId]}};o.once=function(e,t,i){var n=u(f,{},e,t,b.bind(this.off,this));return"string"==typeof e&&null==i&&(t=void 0),this.on(n,t,i)},o.listenToOnce=function(e,t,i){var n=u(f,{},t,i,b.bind(this.stopListening,this,e));return this.listenTo(e,n)};var f=function(e,t,i,n){if(i){var r=e[t]=b.once(function(){n(t,r),i.apply(this,arguments)});r._callback=i}return e};o.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),i=Array(t),n=0;n<t;n++)i[n]=arguments[n+1];return u(m,this._events,e,void 0,i),this};var m=function(e,t,i,n){if(e){var r=e[t],s=e.all;r&&s&&(s=s.slice()),r&&v(r,n),s&&v(s,[t].concat(n))}return e},v=function(e,t){var i,n=-1,r=e.length,s=t[0],a=t[1],o=t[2];switch(t.length){case 0:for(;++n<r;)(i=e[n]).callback.call(i.ctx);return;case 1:for(;++n<r;)(i=e[n]).callback.call(i.ctx,s);return;case 2:for(;++n<r;)(i=e[n]).callback.call(i.ctx,s,a);return;case 3:for(;++n<r;)(i=e[n]).callback.call(i.ctx,s,a,o);return;default:for(;++n<r;)(i=e[n]).callback.apply(i.ctx,t);return}};o.bind=o.on,o.unbind=o.off,b.extend(l,o);var g=l.Model=function(e,t){var i=e||{};t=t||{},this.cid=b.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(i=this.parse(i,t)||{});var n=b.result(this,"defaults");i=b.defaults(b.extend({},n,i),n),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)};b.extend(g.prototype,o,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(e){return b.clone(this.attributes)},sync:function(){return l.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return b.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!b.iteratee(e,this)(this.attributes)},set:function(e,t,i){if(null==e)return this;var n;if("object"==typeof e?(n=e,i=t):(n={})[e]=t,i=i||{},!this._validate(n,i))return!1;var r=i.unset,s=i.silent,a=[],o=this._changing;this._changing=!0,o||(this._previousAttributes=b.clone(this.attributes),this.changed={});var l=this.attributes,c=this.changed,u=this._previousAttributes;for(var d in n)t=n[d],b.isEqual(l[d],t)||a.push(d),b.isEqual(u[d],t)?delete c[d]:c[d]=t,r?delete l[d]:l[d]=t;if(this.idAttribute in n&&(this.id=this.get(this.idAttribute)),!s){a.length&&(this._pending=i);for(var h=0;h<a.length;h++)this.trigger("change:"+a[h],this,l[a[h]],i)}if(o)return this;if(!s)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,b.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,b.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!b.isEmpty(this.changed):b.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&b.clone(this.changed);var t=this._changing?this._previousAttributes:this.attributes,i={};for(var n in e){var r=e[n];b.isEqual(t[n],r)||(i[n]=r)}return!!b.size(i)&&i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return b.clone(this._previousAttributes)},fetch:function(i){i=b.extend({parse:!0},i);var n=this,r=i.success;return i.success=function(e){var t=i.parse?n.parse(e,i):e;if(!n.set(t,i))return!1;r&&r.call(i.context,n,e,i),n.trigger("sync",n,e,i)},O(this,i),this.sync("read",this,i)},save:function(e,t,i){var n;null==e||"object"==typeof e?(n=e,i=t):(n={})[e]=t;var r=(i=b.extend({validate:!0,parse:!0},i)).wait;if(n&&!r){if(!this.set(n,i))return!1}else if(!this._validate(n,i))return!1;var s=this,a=i.success,o=this.attributes;i.success=function(e){s.attributes=o;var t=i.parse?s.parse(e,i):e;if(r&&(t=b.extend({},n,t)),t&&!s.set(t,i))return!1;a&&a.call(i.context,s,e,i),s.trigger("sync",s,e,i)},O(this,i),n&&r&&(this.attributes=b.extend({},o,n));var l=this.isNew()?"create":i.patch?"patch":"update";"patch"!=l||i.attrs||(i.attrs=n);var c=this.sync(l,this,i);return this.attributes=o,c},destroy:function(t){t=t?b.clone(t):{};function i(){n.stopListening(),n.trigger("destroy",n,n.collection,t)}var n=this,r=t.success,s=t.wait,e=!(t.success=function(e){s&&i(),r&&r.call(t.context,n,e,t),n.isNew()||n.trigger("sync",n,e,t)});return this.isNew()?b.defer(t.success):(O(this,t),e=this.sync("delete",this,t)),s||i(),e},url:function(){var e=b.result(this,"urlRoot")||b.result(this.collection,"url")||L();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},b.extend({},e,{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=b.extend({},this.attributes,e);var i=this.validationError=this.validate(e,t)||null;return!i||(this.trigger("invalid",this,i,b.extend(t,{validationError:i})),!1)}});n(g,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");function x(e,t,i){i=Math.min(Math.max(i,0),e.length);var n,r=Array(e.length-i),s=t.length;for(n=0;n<r.length;n++)r[n]=e[n+i];for(n=0;n<s;n++)e[n+i]=t[n];for(n=0;n<r.length;n++)e[n+s+i]=r[n]}var y=l.Collection=function(e,t){(t=t||{}).model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,b.extend({silent:!0},t))},S={add:!0,remove:!0,merge:!0},w={add:!0,remove:!1};b.extend(y.prototype,o,{model:g,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return l.sync.apply(this,arguments)},add:function(e,t){return this.set(e,b.extend({merge:!1},t,w))},remove:function(e,t){t=b.extend({},t);var i=!b.isArray(e);e=i?[e]:e.slice();var n=this._removeModels(e,t);return!t.silent&&n.length&&(t.changes={added:[],merged:[],removed:n},this.trigger("update",this,t)),i?n[0]:n},set:function(e,t){if(null!=e){(t=b.extend({},S,t)).parse&&!this._isModel(e)&&(e=this.parse(e,t)||[]);var i=!b.isArray(e);e=i?[e]:e.slice();var n=t.at;null!=n&&(n=+n),n>this.length&&(n=this.length),n<0&&(n+=this.length+1);var r,s,a=[],o=[],l=[],c=[],u={},d=t.add,h=t.merge,p=t.remove,f=!1,m=this.comparator&&null==n&&!1!==t.sort,v=b.isString(this.comparator)?this.comparator:null;for(s=0;s<e.length;s++){r=e[s];var g=this.get(r);if(g){if(h&&r!==g){var y=this._isModel(r)?r.attributes:r;t.parse&&(y=g.parse(y,t)),g.set(y,t),l.push(g),m&&!f&&(f=g.hasChanged(v))}u[g.cid]||(u[g.cid]=!0,a.push(g)),e[s]=g}else d&&(r=e[s]=this._prepareModel(r,t))&&(o.push(r),this._addReference(r,t),u[r.cid]=!0,a.push(r))}if(p){for(s=0;s<this.length;s++)u[(r=this.models[s]).cid]||c.push(r);c.length&&this._removeModels(c,t)}var w=!1,_=!m&&d&&p;if(a.length&&_?(w=this.length!==a.length||b.some(this.models,function(e,t){return e!==a[t]}),this.models.length=0,x(this.models,a,0),this.length=this.models.length):o.length&&(m&&(f=!0),x(this.models,o,null==n?this.length:n),this.length=this.models.length),f&&this.sort({silent:!0}),!t.silent){for(s=0;s<o.length;s++)null!=n&&(t.index=n+s),(r=o[s]).trigger("add",r,this,t);(f||w)&&this.trigger("sort",this,t),(o.length||c.length||l.length)&&(t.changes={added:o,removed:c,merged:l},this.trigger("update",this,t))}return i?e[0]:e}},reset:function(e,t){t=t?b.clone(t):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],t);return t.previousModels=this.models,this._reset(),e=this.add(e,b.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,b.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,b.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return s.apply(this.models,arguments)},get:function(e){if(null!=e)return this._byId[e]||this._byId[this.modelId(e.attributes||e)]||e.cid&&this._byId[e.cid]},has:function(e){return null!=this.get(e)},at:function(e){return e<0&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e=e||{};var i=t.length;return b.isFunction(t)&&(t=b.bind(t,this)),1===i||b.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return this.map(e+"")},fetch:function(i){var n=(i=b.extend({parse:!0},i)).success,r=this;return i.success=function(e){var t=i.reset?"reset":"set";r[t](e,i),n&&n.call(i.context,r,e,i),r.trigger("sync",r,e,i)},O(this,i),this.sync("read",this,i)},create:function(e,t){var n=(t=t?b.clone(t):{}).wait;if(!(e=this._prepareModel(e,t)))return!1;n||this.add(e,t);var r=this,s=t.success;return t.success=function(e,t,i){n&&r.add(e,i),s&&s.call(i.context,e,t,i)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;var i=new(((t=t?b.clone(t):{}).collection=this).model)(e,t);return i.validationError?(this.trigger("invalid",this,i.validationError,t),!1):i},_removeModels:function(e,t){for(var i=[],n=0;n<e.length;n++){var r=this.get(e[n]);if(r){var s=this.indexOf(r);this.models.splice(s,1),this.length--,delete this._byId[r.cid];var a=this.modelId(r.attributes);null!=a&&delete this._byId[a],t.silent||(t.index=s,r.trigger("remove",r,this,t)),i.push(r),this._removeReference(r,t)}}return i},_isModel:function(e){return e instanceof g},_addReference:function(e,t){this._byId[e.cid]=e;var i=this.modelId(e.attributes);null!=i&&(this._byId[i]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var i=this.modelId(e.attributes);null!=i&&delete this._byId[i],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,i,n){if(t){if(("add"===e||"remove"===e)&&i!==this)return;if("destroy"===e&&this.remove(t,n),"change"===e){var r=this.modelId(t.previousAttributes()),s=this.modelId(t.attributes);r!==s&&(null!=r&&delete this._byId[r],null!=s&&(this._byId[s]=t))}}this.trigger.apply(this,arguments)}});n(y,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models");var _=l.View=function(e){this.cid=b.uniqueId("view"),b.extend(this,b.pick(e,T)),this._ensureElement(),this.initialize.apply(this,arguments)},j=/^(\S+)\s*(.*)$/,T=["model","collection","el","id","attributes","className","tagName","events"];b.extend(_.prototype,o,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof l.$?e:l.jQuery(e),this.el=this.$el[0]},delegateEvents:function(e){if(!(e=e||b.result(this,"events")))return this;for(var t in this.undelegateEvents(),e){var i=e[t];if(b.isFunction(i)||(i=this[i]),i){var n=t.match(j);this.delegate(n[1],n[2],b.bind(i,this))}}return this},delegate:function(e,t,i){return this.$el.on(e+".delegateEvents"+this.cid,t,i),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,i){return this.$el.off(e+".delegateEvents"+this.cid,t,i),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(b.result(this,"el"));else{var e=b.extend({},b.result(this,"attributes"));this.id&&(e.id=b.result(this,"id")),this.className&&(e.class=b.result(this,"className")),this.setElement(this._createElement(b.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}}),l.sync=function(e,t,n){var i=k[e];b.defaults(n=n||{},{emulateHTTP:l.emulateHTTP,emulateJSON:l.emulateJSON});var r={type:i,dataType:"json"};if(n.url||(r.url=b.result(t,"url")||L()),null!=n.data||!t||"create"!==e&&"update"!==e&&"patch"!==e||(r.contentType="application/json",r.data=JSON.stringify(n.attrs||t.toJSON(n))),n.emulateJSON&&(r.contentType="application/x-www-form-urlencoded",r.data=r.data?{model:r.data}:{}),n.emulateHTTP&&("PUT"===i||"DELETE"===i||"PATCH"===i)){r.type="POST",n.emulateJSON&&(r.data._method=i);var s=n.beforeSend;n.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",i),s)return s.apply(this,arguments)}}"GET"===r.type||n.emulateJSON||(r.processData=!1);var a=n.error;n.error=function(e,t,i){n.textStatus=t,n.errorThrown=i,a&&a.call(n.context,e,t,i)};var o=n.xhr=l.ajax(b.extend(r,n));return t.trigger("request",t,o,n),o};var k={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};l.ajax=function(){return l.$.ajax.apply(l.$,arguments)};var C=l.Router=function(e){(e=e||{}).routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},E=/\((.*?)\)/g,M=/(\(\?)?:\w+/g,P=/\*\w+/g,A=/[\-{}\[\]+?.,\\\^$|#\s]/g;b.extend(C.prototype,o,{initialize:function(){},route:function(i,n,r){b.isRegExp(i)||(i=this._routeToRegExp(i)),b.isFunction(n)&&(r=n,n=""),r=r||this[n];var s=this;return l.history.route(i,function(e){var t=s._extractParameters(i,e);!1!==s.execute(r,t,n)&&(s.trigger.apply(s,["route:"+n].concat(t)),s.trigger("route",n,t),l.history.trigger("route",s,n,t))}),this},execute:function(e,t,i){e&&e.apply(this,t)},navigate:function(e,t){return l.history.navigate(e,t),this},_bindRoutes:function(){if(this.routes){this.routes=b.result(this,"routes");for(var e,t=b.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(A,"\\$&").replace(E,"(?:$1)?").replace(M,function(e,t){return t?e:"([^/?]+)"}).replace(P,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var i=e.exec(t).slice(1);return b.map(i,function(e,t){return t===i.length-1?e||null:e?decodeURIComponent(e):null})}});var Q=l.History=function(){this.handlers=[],this.checkUrl=b.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},D=/^[#\/]|\s+$/g,I=/^\/+|\/+$/g,z=/#.*$/;Q.started=!1,b.extend(Q.prototype,o,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(D,"")},start:function(e){if(Q.started)throw new Error("Backbone.history has already been started");if(Q.started=!0,this.options=b.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||7<document.documentMode),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(I,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var i=document.body,n=i.insertBefore(this.iframe,i.firstChild).contentWindow;n.document.open(),n.document.close(),n.location.hash="#"+this.fragment}var r=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState?r("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?r("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),Q.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),b.some(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(e,t){if(!Q.started)return!1;t&&!0!==t||(t={trigger:!!t}),e=this.getFragment(e||"");var i=this.root;""!==e&&"?"!==e.charAt(0)||(i=i.slice(0,-1)||"/");var n=i+e;if(e=this.decodeFragment(e.replace(z,"")),this.fragment!==e){if(this.fragment=e,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;t.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,i){if(i){var n=e.href.replace(/(javascript:|#).*$/,"");e.replace(n+"#"+t)}else e.hash="#"+t}}),l.history=new Q;g.extend=y.extend=C.extend=_.extend=Q.extend=function(e,t){var i,n=this;return i=e&&b.has(e,"constructor")?e.constructor:function(){return n.apply(this,arguments)},b.extend(i,n,t),i.prototype=b.create(n.prototype,e),(i.prototype.constructor=i).__super__=n.prototype,i};var L=function(){throw new Error('A "url" property or function must be specified')},O=function(t,i){var n=i.error;i.error=function(e){n&&n.call(i.context,t,e,i),t.trigger("error",t,e,i)}};return l}),init_all_the_ninja_things(),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):e.jcf=t(jQuery)}(this,function(a){"use strict";var r=[],o={optionsKey:"jcf",dataKey:"jcf-instance",rtlClass:"jcf-rtl",focusClass:"jcf-focus",pressedClass:"jcf-pressed",disabledClass:"jcf-disabled",hiddenClass:"jcf-hidden",resetAppearanceClass:"jcf-reset-appearance",unselectableClass:"jcf-unselectable"},e="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,t=/Windows Phone/.test(navigator.userAgent);o.isMobileDevice=!(!e&&!t);function i(){function e(e,t,i){n.insertRule?n.insertRule(e+"{"+t+"}",i):n.addRule(e,t,i)}var t=jQuery("<style>").appendTo("head"),n=t.prop("sheet")||t.prop("styleSheet");e("."+o.hiddenClass,"position:absolute !important;left:-9999px !important;height:1px !important;width:1px !important;margin:0 !important;border-width:0 !important;-webkit-appearance:none;-moz-appearance:none;appearance:none"),e("."+o.rtlClass+" ."+o.hiddenClass,"right:-9999px !important; left: auto !important"),e("."+o.unselectableClass,"-webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; -webkit-tap-highlight-color: rgba(0,0,0,0);"),e("."+o.resetAppearanceClass,"background: none; border: none; -webkit-appearance: none; appearance: none; opacity: 0; filter: alpha(opacity=0);");var i=jQuery("html"),r=jQuery("body");"rtl"!==i.css("direction")&&"rtl"!==r.css("direction")||i.addClass(o.rtlClass),i.on("reset",function(){setTimeout(function(){l.refreshAll()},0)}),o.styleSheetCreated=!0}!function(){var e,t=navigator.pointerEnabled||navigator.msPointerEnabled,i="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,r={};e=t?{pointerover:navigator.pointerEnabled?"pointerover":"MSPointerOver",pointerdown:navigator.pointerEnabled?"pointerdown":"MSPointerDown",pointermove:navigator.pointerEnabled?"pointermove":"MSPointerMove",pointerup:navigator.pointerEnabled?"pointerup":"MSPointerUp"}:{pointerover:"mouseover",pointerdown:"mousedown"+(i?" touchstart":""),pointermove:"mousemove"+(i?" touchmove":""),pointerup:"mouseup"+(i?" touchend":"")},a.each(e,function(i,e){a.each(e.split(" "),function(e,t){r[t]=i})}),a.each(e,function(e,t){t=t.split(" "),a.event.special["jcf-"+e]={setup:function(){var i=this;a.each(t,function(e,t){i.addEventListener?i.addEventListener(t,n,!1):i["on"+t]=n})},teardown:function(){var i=this;a.each(t,function(e,t){i.addEventListener?i.removeEventListener(t,n,!1):i["on"+t]=null})}}});var s=null,n=function(e){var t=e||window.event,i=null,n=r[t.type];if((e=a.event.fix(t)).type="jcf-"+n,t.pointerType)switch(t.pointerType){case 2:e.pointerType="touch";break;case 3:e.pointerType="pen";break;case 4:e.pointerType="mouse";break;default:e.pointerType=t.pointerType}else e.pointerType=t.type.substr(0,5);return e.pageX||e.pageY||(i=t.changedTouches?t.changedTouches[0]:t,e.pageX=i.pageX,e.pageY=i.pageY),"touchend"===t.type&&(s={x:e.pageX,y:e.pageY}),"mouse"===e.pointerType&&s&&function(e){var t=Math.abs(e.pageX-s.x),i=Math.abs(e.pageY-s.y);if(t<=25&&i<=25)return!0}(e)?void 0:(a.event.dispatch||a.event.handle).call(this,e)}}(),function(){var e=("onwheel"in document||9<=document.documentMode?"wheel":"mousewheel DOMMouseScroll").split(" "),i="jcf-mousewheel";a.event.special[i]={setup:function(){var i=this;a.each(e,function(e,t){i.addEventListener?i.addEventListener(t,n,!1):i["on"+t]=n})},teardown:function(){var i=this;a.each(e,function(e,t){i.addEventListener?i.removeEventListener(t,n,!1):i["on"+t]=null})}};var n=function(e){var t=e||window.event;if((e=a.event.fix(t)).type=i,"detail"in t&&(e.deltaY=-t.detail),"wheelDelta"in t&&(e.deltaY=-t.wheelDelta),"wheelDeltaY"in t&&(e.deltaY=-t.wheelDeltaY),"wheelDeltaX"in t&&(e.deltaX=-t.wheelDeltaX),"deltaY"in t&&(e.deltaY=t.deltaY),"deltaX"in t&&(e.deltaX=t.deltaX),e.delta=e.deltaY||e.deltaX,1===t.deltaMode){e.delta*=16,e.deltaY*=16,e.deltaX*=16}return(a.event.dispatch||a.event.handle).call(this,e)}}();var s={fireNativeEvent:function(e,t){jQuery(e).each(function(){var e;this.dispatchEvent?((e=document.createEvent("HTMLEvents")).initEvent(t,!0,!0),this.dispatchEvent(e)):document.createEventObject&&((e=document.createEventObject()).target=this).fireEvent("on"+t,e)})},bindHandlers:function(){var i=this;a.each(i,function(e,t){0===e.indexOf("on")&&a.isFunction(t)&&(i[e]=function(){return t.apply(i,arguments)})})}},l={version:"1.2.0",modules:{},getOptions:function(){return a.extend({},o)},setOptions:function(e,t){1<arguments.length?this.modules[e]&&a.extend(this.modules[e].prototype.options,t):a.extend(o,e)},addModule:function(e){a.isFunction(e)&&(e=e(a,window));function t(e){e.element.data(o.dataKey)||e.element.data(o.dataKey,this),r.push(this),this.options=a.extend({},o,this.options,i(e.element),e),this.bindHandlers(),this.init.apply(this,arguments)}var i=function(e){var t=e.data(o.optionsKey),i=e.attr(o.optionsKey);if(t)return t;if(i)try{return a.parseJSON(i)}catch(e){}};t.prototype=e,a.extend(e,s),e.plugins&&a.each(e.plugins,function(e,t){a.extend(t.prototype,s)});var n=t.prototype.destroy;t.prototype.destroy=function(){this.options.element.removeData(this.options.dataKey);for(var e=r.length-1;0<=e;e--)if(r[e]===this){r.splice(e,1);break}n&&n.apply(this,arguments)},this.modules[e.name]=t},getInstance:function(e){return jQuery(e).data(o.dataKey)},replace:function(e,n,t){var r,s=this;return o.styleSheetCreated||i(),jQuery(e).each(function(){var e,i=jQuery(this);(r=i.data(o.dataKey))?r.refresh():(n||a.each(s.modules,function(e,t){if(t.prototype.matchElement.call(t.prototype,i))return n=e,!1}),n&&(e=a.extend({element:i},t),r=new s.modules[n](e)))}),r},refresh:function(e){jQuery(e).each(function(){var e=jQuery(this).data(o.dataKey);e&&e.refresh()})},destroy:function(e){jQuery(e).each(function(){var e=jQuery(this).data(o.dataKey);e&&e.destroy()})},replaceAll:function(i){var n=this;a.each(this.modules,function(e,t){jQuery(t.prototype.selector,i).each(function(){this.className.indexOf("jcf-ignore")<0&&n.replace(this,e)})})},refreshAll:function(i){if(i)a.each(this.modules,function(e,t){jQuery(t.prototype.selector,i).each(function(){var e=jQuery(this).data(o.dataKey);e&&e.refresh()})});else for(var e=r.length-1;0<=e;e--)r[e].refresh()},destroyAll:function(i){if(i)a.each(this.modules,function(e,t){jQuery(t.prototype.selector,i).each(function(e,t){var i=jQuery(t).data(o.dataKey);i&&i.destroy()})});else for(;r.length;)r[0].destroy()}};return window.jcf=l}),jcf.addModule(function(a,e){"use strict";var t={name:"Select",selector:"select",options:{element:null,multipleCompactStyle:!1},plugins:{ListBox:n,ComboBox:i,SelectList:r},matchElement:function(e){return e.is("select")},init:function(){this.element=jQuery(this.options.element),this.createInstance()},isListBox:function(){return this.element.is("[size]:not([jcf-size]), [multiple]")},createInstance:function(){this.instance&&this.instance.destroy(),this.isListBox()&&!this.options.multipleCompactStyle?this.instance=new n(this.options):this.instance=new i(this.options)},refresh:function(){this.isListBox()&&this.instance instanceof i||!this.isListBox()&&this.instance instanceof n?this.createInstance():this.instance.refresh()},destroy:function(){this.instance.destroy()}};function i(e){this.options=a.extend({wrapNative:!0,wrapNativeOnMobile:!0,fakeDropInBody:!0,useCustomScroll:!0,flipDropToFit:!0,maxVisibleItems:10,fakeAreaStructure:'<span class="jcf-select"><span class="jcf-select-text"></span><span class="jcf-select-opener"></span></span>',fakeDropStructure:'<div class="jcf-select-drop"><div class="jcf-select-drop-content"></div></div>',optionClassPrefix:"jcf-option-",selectClassPrefix:"jcf-select-",dropContentSelector:".jcf-select-drop-content",selectTextSelector:".jcf-select-text",dropActiveClass:"jcf-drop-active",flipDropClass:"jcf-drop-flipped"},e),this.init()}function n(e){this.options=a.extend({wrapNative:!0,useCustomScroll:!0,fakeStructure:'<span class="jcf-list-box"><span class="jcf-list-wrapper"></span></span>',selectClassPrefix:"jcf-select-",listHolder:".jcf-list-wrapper"},e),this.init()}function r(e){this.options=a.extend({holder:null,maxVisibleItems:10,selectOnClick:!0,useHoverClass:!1,useCustomScroll:!1,handleResize:!0,multipleSelectWithoutKey:!1,alwaysPreventMouseWheel:!1,indexAttribute:"data-index",cloneClassPrefix:"jcf-option-",containerStructure:'<span class="jcf-list"><span class="jcf-list-content"></span></span>',containerSelector:".jcf-list-content",captionClass:"jcf-optgroup-caption",disabledClass:"jcf-disabled",optionClass:"jcf-option",groupClass:"jcf-optgroup",hoverClass:"jcf-hover",selectedClass:"jcf-selected",scrollClass:"jcf-scroll-active"},e),this.init()}a.extend(i.prototype,{init:function(){this.initStructure(),this.bindHandlers(),this.attachEvents(),this.refresh()},initStructure:function(){this.win=jQuery(e),this.doc=jQuery(document),this.realElement=jQuery(this.options.element),this.fakeElement=jQuery(this.options.fakeAreaStructure).insertAfter(this.realElement),this.selectTextContainer=this.fakeElement.find(this.options.selectTextSelector),this.selectText=jQuery("<span></span>").appendTo(this.selectTextContainer),l(this.fakeElement),this.fakeElement.addClass(o(this.realElement.prop("className"),this.options.selectClassPrefix)),this.realElement.prop("multiple")&&this.fakeElement.addClass("jcf-compact-multiple"),this.options.isMobileDevice&&this.options.wrapNativeOnMobile&&!this.options.wrapNative&&(this.options.wrapNative=!0),this.options.wrapNative?this.realElement.prependTo(this.fakeElement).css({position:"absolute",height:"100%",width:"100%"}).addClass(this.options.resetAppearanceClass):(this.realElement.addClass(this.options.hiddenClass),this.fakeElement.attr("title",this.realElement.attr("title")),this.fakeDropTarget=this.options.fakeDropInBody?jQuery("body"):this.fakeElement)},attachEvents:function(){var e=this;this.delayedRefresh=function(){setTimeout(function(){e.refresh(),e.list&&(e.list.refresh(),e.list.scrollToActiveOption())},1)},this.options.wrapNative?this.realElement.on({focus:this.onFocus,change:this.onChange,click:this.onChange,keydown:this.onChange}):(this.realElement.on({focus:this.onFocus,change:this.onChange,keydown:this.onKeyDown}),this.fakeElement.on({"jcf-pointerdown":this.onSelectAreaPress}))},onKeyDown:function(e){13===e.which?this.toggleDropdown():this.dropActive&&this.delayedRefresh()},onChange:function(){this.refresh()},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur),this.toggleListMode(!0),this.focusedFlag=!0)},onBlur:function(){this.pressedFlag||(this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur),this.toggleListMode(!1),this.focusedFlag=!1)},onResize:function(){this.dropActive&&this.hideDropdown()},onSelectDropPress:function(){this.pressedFlag=!0},onSelectDropRelease:function(e,t){this.pressedFlag=!1,"mouse"===t.pointerType&&this.realElement.focus()},onSelectAreaPress:function(e){!this.options.fakeDropInBody&&jQuery(e.target).closest(this.dropdown).length||1<e.button||this.realElement.is(":disabled")||(this.selectOpenedByEvent=e.pointerType,this.toggleDropdown(),this.focusedFlag||("mouse"===e.pointerType?this.realElement.focus():this.onFocus(e)),this.pressedFlag=!0,this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onSelectAreaRelease))},onSelectAreaRelease:function(e){this.focusedFlag&&"mouse"===e.pointerType&&this.realElement.focus(),this.pressedFlag=!1,this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onSelectAreaRelease)},onOutsideClick:function(e){var t=jQuery(e.target);t.closest(this.fakeElement).length||t.closest(this.dropdown).length||this.hideDropdown()},onSelect:function(){this.refresh(),this.realElement.prop("multiple")?this.repositionDropdown():this.hideDropdown(),this.fireNativeEvent(this.realElement,"change")},toggleListMode:function(e){this.options.wrapNative||(e?this.realElement.attr({size:4,"jcf-size":""}):this.options.wrapNative||this.realElement.removeAttr("size jcf-size"))},createDropdown:function(){this.dropdown&&(this.list.destroy(),this.dropdown.remove()),this.dropdown=jQuery(this.options.fakeDropStructure).appendTo(this.fakeDropTarget),this.dropdown.addClass(o(this.realElement.prop("className"),this.options.selectClassPrefix)),l(this.dropdown),this.realElement.prop("multiple")&&this.dropdown.addClass("jcf-compact-multiple"),this.options.fakeDropInBody&&this.dropdown.css({position:"absolute",top:-9999}),this.list=new r({useHoverClass:!0,handleResize:!1,alwaysPreventMouseWheel:!0,maxVisibleItems:this.options.maxVisibleItems,useCustomScroll:this.options.useCustomScroll,holder:this.dropdown.find(this.options.dropContentSelector),multipleSelectWithoutKey:this.realElement.prop("multiple"),element:this.realElement}),jQuery(this.list).on({select:this.onSelect,press:this.onSelectDropPress,release:this.onSelectDropRelease})},repositionDropdown:function(){var e,t,i,n=this.fakeElement.offset(),r=this.fakeElement.outerWidth(),s=this.fakeElement.outerHeight(),a=this.dropdown.css("width",r).outerHeight(),o=this.win.scrollTop(),l=this.win.height(),c=!1;n.top+s+a>o+l&&n.top-a>o&&(c=!0),this.options.fakeDropInBody&&(i="static"!==this.fakeDropTarget.css("position")?this.fakeDropTarget.offset().top:0,e=this.options.flipDropToFit&&c?(t=n.left,n.top-a-i):(t=n.left,n.top+s-i),this.dropdown.css({width:r,left:t,top:e})),this.dropdown.add(this.fakeElement).toggleClass(this.options.flipDropClass,this.options.flipDropToFit&&c)},showDropdown:function(){this.realElement.prop("options").length&&(this.dropdown||this.createDropdown(),this.dropActive=!0,this.dropdown.appendTo(this.fakeDropTarget),this.fakeElement.addClass(this.options.dropActiveClass),this.refreshSelectedText(),this.repositionDropdown(),this.list.setScrollTop(this.savedScrollTop),this.list.refresh(),this.win.on("resize",this.onResize),this.doc.on("jcf-pointerdown",this.onOutsideClick))},hideDropdown:function(){this.dropdown&&(this.savedScrollTop=this.list.getScrollTop(),this.fakeElement.removeClass(this.options.dropActiveClass+" "+this.options.flipDropClass),this.dropdown.removeClass(this.options.flipDropClass).detach(),this.doc.off("jcf-pointerdown",this.onOutsideClick),this.win.off("resize",this.onResize),this.dropActive=!1,"touch"===this.selectOpenedByEvent&&this.onBlur())},toggleDropdown:function(){this.dropActive?this.hideDropdown():this.showDropdown()},refreshSelectedText:function(){var e,t=this.realElement.prop("selectedIndex"),i=this.realElement.prop("options")[t],n=i?i.getAttribute("data-image"):null,r="";this.realElement.prop("multiple")?(a.each(this.realElement.prop("options"),function(e,t){t.selected&&(r+=(r?", ":"")+t.innerHTML)}),r=r||(this.realElement.attr("placeholder")||""),this.selectText.removeAttr("class").html(r)):i?this.currentSelectedText===i.innerHTML&&this.currentSelectedImage===n||(e=o(i.className,this.options.optionClassPrefix),this.selectText.attr("class",e).html(i.innerHTML),n?(this.selectImage||(this.selectImage=jQuery("<img>").prependTo(this.selectTextContainer).hide()),this.selectImage.attr("src",n).show()):this.selectImage&&this.selectImage.hide(),this.currentSelectedText=i.innerHTML,this.currentSelectedImage=n):(this.selectImage&&this.selectImage.hide(),this.selectText.removeAttr("class").empty())},refresh:function(){"none"===this.realElement.prop("style").display?this.fakeElement.hide():this.fakeElement.show(),this.refreshSelectedText(),this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(":disabled"))},destroy:function(){this.options.wrapNative?this.realElement.insertBefore(this.fakeElement).css({position:"",height:"",width:""}).removeClass(this.options.resetAppearanceClass):(this.realElement.removeClass(this.options.hiddenClass),this.realElement.is("[jcf-size]")&&this.realElement.removeAttr("size jcf-size")),this.fakeElement.remove(),this.doc.off("jcf-pointerup",this.onSelectAreaRelease),this.realElement.off({focus:this.onFocus})}}),a.extend(n.prototype,{init:function(){this.bindHandlers(),this.initStructure(),this.attachEvents()},initStructure:function(){this.realElement=jQuery(this.options.element),this.fakeElement=jQuery(this.options.fakeStructure).insertAfter(this.realElement),this.listHolder=this.fakeElement.find(this.options.listHolder),l(this.fakeElement),this.fakeElement.addClass(o(this.realElement.prop("className"),this.options.selectClassPrefix)),this.realElement.addClass(this.options.hiddenClass),this.list=new r({useCustomScroll:this.options.useCustomScroll,holder:this.listHolder,selectOnClick:!1,element:this.realElement})},attachEvents:function(){var t=this;this.delayedRefresh=function(e){e&&16===e.which||(clearTimeout(t.refreshTimer),t.refreshTimer=setTimeout(function(){t.refresh(),t.list.scrollToActiveOption()},1))},this.realElement.on({focus:this.onFocus,click:this.delayedRefresh,keydown:this.delayedRefresh}),jQuery(this.list).on({select:this.onSelect,press:this.onFakeOptionsPress,release:this.onFakeOptionsRelease})},onFakeOptionsPress:function(e,t){this.pressedFlag=!0,"mouse"===t.pointerType&&this.realElement.focus()},onFakeOptionsRelease:function(e,t){this.pressedFlag=!1,"mouse"===t.pointerType&&this.realElement.focus()},onSelect:function(){this.fireNativeEvent(this.realElement,"change"),this.fireNativeEvent(this.realElement,"click")},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur),this.focusedFlag=!0)},onBlur:function(){this.pressedFlag||(this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur),this.focusedFlag=!1)},refresh:function(){this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(":disabled")),this.list.refresh()},destroy:function(){this.list.destroy(),this.realElement.insertBefore(this.fakeElement).removeClass(this.options.hiddenClass),this.fakeElement.remove()}}),a.extend(r.prototype,{init:function(){this.initStructure(),this.refreshSelectedClass(),this.attachEvents()},initStructure:function(){this.element=jQuery(this.options.element),this.indexSelector="["+this.options.indexAttribute+"]",this.container=jQuery(this.options.containerStructure).appendTo(this.options.holder),this.listHolder=this.container.find(this.options.containerSelector),this.lastClickedIndex=this.element.prop("selectedIndex"),this.rebuildList()},attachEvents:function(){this.bindHandlers(),this.listHolder.on("jcf-pointerdown",this.indexSelector,this.onItemPress),this.listHolder.on("jcf-pointerdown",this.onPress),this.options.useHoverClass&&this.listHolder.on("jcf-pointerover",this.indexSelector,this.onHoverItem)},onPress:function(e){jQuery(this).trigger("press",e),this.listHolder.on("jcf-pointerup",this.onRelease)},onRelease:function(e){jQuery(this).trigger("release",e),this.listHolder.off("jcf-pointerup",this.onRelease)},onHoverItem:function(e){var t=parseFloat(e.currentTarget.getAttribute(this.options.indexAttribute));this.fakeOptions.removeClass(this.options.hoverClass).eq(t).addClass(this.options.hoverClass)},onItemPress:function(e){"touch"===e.pointerType||this.options.selectOnClick?(this.tmpListOffsetTop=this.list.offset().top,this.listHolder.on("jcf-pointerup",this.indexSelector,this.onItemRelease)):this.onSelectItem(e)},onItemRelease:function(e){this.listHolder.off("jcf-pointerup",this.indexSelector,this.onItemRelease),this.tmpListOffsetTop===this.list.offset().top&&this.listHolder.on("click",this.indexSelector,{savedPointerType:e.pointerType},this.onSelectItem),delete this.tmpListOffsetTop},onSelectItem:function(e){var i,t=parseFloat(e.currentTarget.getAttribute(this.options.indexAttribute)),n=e.data&&e.data.savedPointerType||e.pointerType||"mouse";this.listHolder.off("click",this.indexSelector,this.onSelectItem),1<e.button||this.realOptions[t].disabled||(this.element.prop("multiple")?e.metaKey||e.ctrlKey||"touch"===n||this.options.multipleSelectWithoutKey?this.realOptions[t].selected=!this.realOptions[t].selected:e.shiftKey?(i=[this.lastClickedIndex,t].sort(function(e,t){return e-t}),this.realOptions.each(function(e,t){t.selected=e>=i[0]&&e<=i[1]})):this.element.prop("selectedIndex",t):this.element.prop("selectedIndex",t),e.shiftKey||(this.lastClickedIndex=t),this.refreshSelectedClass(),"mouse"===n&&this.scrollToActiveOption(),jQuery(this).trigger("select"))},rebuildList:function(){var n=this,e=this.element[0];this.storedSelectHTML=e.innerHTML,this.optionIndex=0,this.list=jQuery(this.createOptionsList(e)),this.listHolder.empty().append(this.list),this.realOptions=this.element.find("option"),this.fakeOptions=this.list.find(this.indexSelector),this.fakeListItems=this.list.find("."+this.options.captionClass+","+this.indexSelector),delete this.optionIndex;var t=this.options.maxVisibleItems,i=this.element.prop("size");1<i&&!this.element.is("[jcf-size]")&&(t=i);var r=this.fakeOptions.length>t;this.container.toggleClass(this.options.scrollClass,r),r&&(this.listHolder.css({maxHeight:this.getOverflowHeight(t),overflow:"auto"}),this.options.useCustomScroll&&jcf.modules.Scrollable)?jcf.replace(this.listHolder,"Scrollable",{handleResize:this.options.handleResize,alwaysPreventMouseWheel:this.options.alwaysPreventMouseWheel}):this.options.alwaysPreventMouseWheel&&(this.preventWheelHandler=function(e){var t=n.listHolder.scrollTop(),i=n.listHolder.prop("scrollHeight")-n.listHolder.innerHeight();(t<=0&&e.deltaY<0||i<=t&&0<e.deltaY)&&e.preventDefault()},this.listHolder.on("jcf-mousewheel",this.preventWheelHandler))},refreshSelectedClass:function(){var e,i=this,t=this.element.prop("multiple"),n=this.element.prop("selectedIndex");t?this.realOptions.each(function(e,t){i.fakeOptions.eq(e).toggleClass(i.options.selectedClass,!!t.selected)}):(this.fakeOptions.removeClass(this.options.selectedClass+" "+this.options.hoverClass),e=this.fakeOptions.eq(n).addClass(this.options.selectedClass),this.options.useHoverClass&&e.addClass(this.options.hoverClass))},scrollToActiveOption:function(){var e=this.getActiveOptionOffset();"number"==typeof e&&this.listHolder.prop("scrollTop",e)},getSelectedIndexRange:function(){var i=-1,n=-1;return this.realOptions.each(function(e,t){t.selected&&(i<0&&(i=e),n=e)}),[i,n]},getChangedSelectedIndex:function(){var e,t=this.element.prop("selectedIndex");return this.element.prop("multiple")?(this.previousRange||(this.previousRange=[t,t]),this.currentRange=this.getSelectedIndexRange(),e=this.currentRange[this.currentRange[0]!==this.previousRange[0]?0:1],this.previousRange=this.currentRange,e):t},getActiveOptionOffset:function(){var e=this.listHolder.height(),t=this.listHolder.prop("scrollTop"),i=this.getChangedSelectedIndex(),n=this.fakeOptions.eq(i),r=n.offset().top-this.list.offset().top,s=n.innerHeight();return t+e<=r+s?r-e+s:r<t?r:void 0},getOverflowHeight:function(e){var t=this.fakeListItems.eq(e-1),i=this.list.offset().top;return t.offset().top+t.innerHeight()-i},getScrollTop:function(){return this.listHolder.scrollTop()},setScrollTop:function(e){this.listHolder.scrollTop(e)},createOption:function(e){var t=document.createElement("span");t.className=this.options.optionClass,t.innerHTML=e.innerHTML,t.setAttribute(this.options.indexAttribute,this.optionIndex++);var i,n=e.getAttribute("data-image");return n&&((i=document.createElement("img")).src=n,t.insertBefore(i,t.childNodes[0])),e.disabled&&(t.className+=" "+this.options.disabledClass),e.className&&(t.className+=" "+o(e.className,this.options.cloneClassPrefix)),t},createOptGroup:function(e){var t,i,n=document.createElement("span"),r=e.getAttribute("label");return(t=document.createElement("span")).className=this.options.captionClass,t.innerHTML=r,n.appendChild(t),e.children.length&&(i=this.createOptionsList(e),n.appendChild(i)),n.className=this.options.groupClass,n},createOptionContainer:function(){return document.createElement("li")},createOptionsList:function(e){var r=this,s=document.createElement("ul");return a.each(e.children,function(e,t){var i,n=r.createOptionContainer(t);switch(t.tagName.toLowerCase()){case"option":i=r.createOption(t);break;case"optgroup":i=r.createOptGroup(t)}s.appendChild(n).appendChild(i)}),s},refresh:function(){this.storedSelectHTML!==this.element.prop("innerHTML")&&this.rebuildList();var e=jcf.getInstance(this.listHolder);e&&e.refresh(),this.refreshSelectedClass()},destroy:function(){this.listHolder.off("jcf-mousewheel",this.preventWheelHandler),this.listHolder.off("jcf-pointerdown",this.indexSelector,this.onSelectItem),this.listHolder.off("jcf-pointerover",this.indexSelector,this.onHoverItem),this.listHolder.off("jcf-pointerdown",this.onPress)}});var s,o=function(e,t){return e?e.replace(/[\s]*([\S]+)+[\s]*/gi,t+"$1 "):""},l=(s=jcf.getOptions().unselectableClass,function(e){e.addClass(s).on("selectstart",c)});function c(e){e.preventDefault()}return t}),jcf.addModule(function(a,e){"use strict";var t={name:"Scrollable",selector:".jcf-scrollable",plugins:{ScrollBar:i},options:{mouseWheelStep:150,handleResize:!0,alwaysShowScrollbars:!1,alwaysPreventMouseWheel:!1,scrollAreaStructure:'<div class="jcf-scrollable-wrapper"></div>'},matchElement:function(e){return e.is(".jcf-scrollable")},init:function(){this.initStructure(),this.attachEvents(),this.rebuildScrollbars()},initStructure:function(){this.doc=jQuery(document),this.win=jQuery(e),this.realElement=jQuery(this.options.element),this.scrollWrapper=jQuery(this.options.scrollAreaStructure).insertAfter(this.realElement),this.scrollWrapper.css("position","relative"),this.realElement.css("overflow","hidden"),this.vBarEdge=0},attachEvents:function(){var t=this;this.vBar=new i({holder:this.scrollWrapper,vertical:!0,onScroll:function(e){t.realElement.scrollTop(e)}}),this.hBar=new i({holder:this.scrollWrapper,vertical:!1,onScroll:function(e){t.realElement.scrollLeft(e)}}),this.realElement.on("scroll",this.onScroll),this.options.handleResize&&this.win.on("resize orientationchange load",this.onResize),this.realElement.on("jcf-mousewheel",this.onMouseWheel),this.realElement.on("jcf-pointerdown",this.onTouchBody)},onScroll:function(){this.redrawScrollbars()},onResize:function(){jQuery(document.activeElement).is(":input")||this.rebuildScrollbars()},onTouchBody:function(e){"touch"===e.pointerType&&(this.touchData={scrollTop:this.realElement.scrollTop(),scrollLeft:this.realElement.scrollLeft(),left:e.pageX,top:e.pageY},this.doc.on({"jcf-pointermove":this.onMoveBody,"jcf-pointerup":this.onReleaseBody}))},onMoveBody:function(e){var t,i,n=this.verticalScrollActive,r=this.horizontalScrollActive;"touch"===e.pointerType&&(t=this.touchData.scrollTop-e.pageY+this.touchData.top,i=this.touchData.scrollLeft-e.pageX+this.touchData.left,this.verticalScrollActive&&(t<0||t>this.vBar.maxValue)&&(n=!1),this.horizontalScrollActive&&(i<0||i>this.hBar.maxValue)&&(r=!1),this.realElement.scrollTop(t),this.realElement.scrollLeft(i),n||r?e.preventDefault():this.onReleaseBody(e))},onReleaseBody:function(e){"touch"===e.pointerType&&(delete this.touchData,this.doc.off({"jcf-pointermove":this.onMoveBody,"jcf-pointerup":this.onReleaseBody}))},onMouseWheel:function(e){var t,i,n,r=this.realElement.scrollTop(),s=this.realElement.scrollLeft(),a=this.realElement.prop("scrollHeight")-this.embeddedDimensions.innerHeight,o=this.realElement.prop("scrollWidth")-this.embeddedDimensions.innerWidth;(this.options.alwaysPreventMouseWheel||(this.verticalScrollActive&&e.deltaY&&(r<=0&&e.deltaY<0||a<=r&&0<e.deltaY||(n=!0)),this.horizontalScrollActive&&e.deltaX&&(s<=0&&e.deltaX<0||o<=s&&0<e.deltaX||(n=!0)),this.verticalScrollActive||this.horizontalScrollActive))&&(n||this.options.alwaysPreventMouseWheel)&&(e.preventDefault(),t=e.deltaX/100*this.options.mouseWheelStep,i=e.deltaY/100*this.options.mouseWheelStep,this.realElement.scrollTop(r+i),this.realElement.scrollLeft(s+t))},setScrollBarEdge:function(e){this.vBarEdge=e||0,this.redrawScrollbars()},saveElementDimensions:function(){return this.savedDimensions={top:this.realElement.width(),left:this.realElement.height()},this},restoreElementDimensions:function(){return this.savedDimensions&&this.realElement.css({width:this.savedDimensions.width,height:this.savedDimensions.height}),this},saveScrollOffsets:function(){return this.savedOffsets={top:this.realElement.scrollTop(),left:this.realElement.scrollLeft()},this},restoreScrollOffsets:function(){return this.savedOffsets&&(this.realElement.scrollTop(this.savedOffsets.top),this.realElement.scrollLeft(this.savedOffsets.left)),this},getContainerDimensions:function(){var e,t,i,n;return this.isModifiedStyles?e={width:this.realElement.innerWidth()+this.vBar.getThickness(),height:this.realElement.innerHeight()+this.hBar.getThickness()}:(this.saveElementDimensions().saveScrollOffsets(),this.realElement.insertAfter(this.scrollWrapper),this.scrollWrapper.detach(),t=this.realElement.prop("style"),n=parseFloat(t.width),i=parseFloat(t.height),this.embeddedDimensions&&n&&i&&(this.isModifiedStyles|=n!==this.embeddedDimensions.width||i!==this.embeddedDimensions.height,this.realElement.css({overflow:"",width:"",height:""})),e={width:this.realElement.outerWidth(),height:this.realElement.outerHeight()},this.scrollWrapper.insertAfter(this.realElement),this.realElement.css("overflow","hidden").prependTo(this.scrollWrapper),this.restoreElementDimensions().restoreScrollOffsets()),e},getEmbeddedDimensions:function(e){var t,i=this.vBar.getThickness(),n=this.hBar.getThickness(),r=this.realElement.outerWidth()-this.realElement.width(),s=this.realElement.outerHeight()-this.realElement.height();return t=this.options.alwaysShowScrollbars?(this.verticalScrollActive=!0,this.horizontalScrollActive=!0,{innerWidth:e.width-i,innerHeight:e.height-n}):(this.saveElementDimensions(),this.verticalScrollActive=!1,this.horizontalScrollActive=!1,this.realElement.css({width:e.width-r,height:e.height-s}),this.horizontalScrollActive=this.realElement.prop("scrollWidth")>this.containerDimensions.width,this.verticalScrollActive=this.realElement.prop("scrollHeight")>this.containerDimensions.height,this.restoreElementDimensions(),{innerWidth:e.width-(this.verticalScrollActive?i:0),innerHeight:e.height-(this.horizontalScrollActive?n:0)}),a.extend(t,{width:t.innerWidth-r,height:t.innerHeight-s}),t},rebuildScrollbars:function(){this.containerDimensions=this.getContainerDimensions(),this.embeddedDimensions=this.getEmbeddedDimensions(this.containerDimensions),this.scrollWrapper.css({width:this.containerDimensions.width,height:this.containerDimensions.height}),this.realElement.css({overflow:"hidden",width:this.embeddedDimensions.width,height:this.embeddedDimensions.height}),this.redrawScrollbars()},redrawScrollbars:function(){var e,t;this.verticalScrollActive?(e=this.vBarEdge?this.containerDimensions.height-this.vBarEdge:this.embeddedDimensions.innerHeight,t=Math.max(this.realElement.prop("offsetHeight"),this.realElement.prop("scrollHeight"))-this.vBarEdge,this.vBar.show().setMaxValue(t-e).setRatio(e/t).setSize(e),this.vBar.setValue(this.realElement.scrollTop())):this.vBar.hide(),this.horizontalScrollActive?(e=this.embeddedDimensions.innerWidth,(t=this.realElement.prop("scrollWidth"))===e&&(this.horizontalScrollActive=!1),this.hBar.show().setMaxValue(t-e).setRatio(e/t).setSize(e),this.hBar.setValue(this.realElement.scrollLeft())):this.hBar.hide();var i="";this.verticalScrollActive&&this.horizontalScrollActive?i="none":this.verticalScrollActive?i="pan-x":this.horizontalScrollActive&&(i="pan-y"),this.realElement.css("touchAction",i)},refresh:function(){this.rebuildScrollbars()},destroy:function(){this.win.off("resize orientationchange load",this.onResize),this.realElement.off({"jcf-mousewheel":this.onMouseWheel,"jcf-pointerdown":this.onTouchBody}),this.doc.off({"jcf-pointermove":this.onMoveBody,"jcf-pointerup":this.onReleaseBody}),this.saveScrollOffsets(),this.vBar.destroy(),this.hBar.destroy(),this.realElement.insertAfter(this.scrollWrapper).css({touchAction:"",overflow:"",width:"",height:""}),this.scrollWrapper.remove(),this.restoreScrollOffsets()}};function i(e){this.options=a.extend({holder:null,vertical:!0,inactiveClass:"jcf-inactive",verticalClass:"jcf-scrollbar-vertical",horizontalClass:"jcf-scrollbar-horizontal",scrollbarStructure:'<div class="jcf-scrollbar"><div class="jcf-scrollbar-dec"></div><div class="jcf-scrollbar-slider"><div class="jcf-scrollbar-handle"></div></div><div class="jcf-scrollbar-inc"></div></div>',btnDecSelector:".jcf-scrollbar-dec",btnIncSelector:".jcf-scrollbar-inc",sliderSelector:".jcf-scrollbar-slider",handleSelector:".jcf-scrollbar-handle",scrollInterval:300,scrollStep:400},e),this.init()}return a.extend(i.prototype,{init:function(){this.initStructure(),this.attachEvents()},initStructure:function(){this.doc=jQuery(document),this.isVertical=!!this.options.vertical,this.sizeProperty=this.isVertical?"height":"width",this.fullSizeProperty=this.isVertical?"outerHeight":"outerWidth",this.invertedSizeProperty=this.isVertical?"width":"height",this.thicknessMeasureMethod="outer"+this.invertedSizeProperty.charAt(0).toUpperCase()+this.invertedSizeProperty.substr(1),this.offsetProperty=this.isVertical?"top":"left",this.offsetEventProperty=this.isVertical?"pageY":"pageX",this.value=this.options.value||0,this.maxValue=this.options.maxValue||0,this.currentSliderSize=0,this.handleSize=0,this.holder=jQuery(this.options.holder),this.scrollbar=jQuery(this.options.scrollbarStructure).appendTo(this.holder),this.btnDec=this.scrollbar.find(this.options.btnDecSelector),this.btnInc=this.scrollbar.find(this.options.btnIncSelector),this.slider=this.scrollbar.find(this.options.sliderSelector),this.handle=this.slider.find(this.options.handleSelector),this.scrollbar.addClass(this.isVertical?this.options.verticalClass:this.options.horizontalClass).css({touchAction:this.isVertical?"pan-x":"pan-y",position:"absolute"}),this.slider.css({position:"relative"}),this.handle.css({touchAction:"none",position:"absolute"})},attachEvents:function(){this.bindHandlers(),this.handle.on("jcf-pointerdown",this.onHandlePress),this.slider.add(this.btnDec).add(this.btnInc).on("jcf-pointerdown",this.onButtonPress)},onHandlePress:function(e){"mouse"===e.pointerType&&1<e.button||(e.preventDefault(),this.handleDragActive=!0,this.sliderOffset=this.slider.offset()[this.offsetProperty],this.innerHandleOffset=e[this.offsetEventProperty]-this.handle.offset()[this.offsetProperty],this.doc.on("jcf-pointermove",this.onHandleDrag),this.doc.on("jcf-pointerup",this.onHandleRelease))},onHandleDrag:function(e){e.preventDefault(),this.calcOffset=e[this.offsetEventProperty]-this.sliderOffset-this.innerHandleOffset,this.setValue(this.calcOffset/(this.currentSliderSize-this.handleSize)*this.maxValue),this.triggerScrollEvent(this.value)},onHandleRelease:function(){this.handleDragActive=!1,this.doc.off("jcf-pointermove",this.onHandleDrag),this.doc.off("jcf-pointerup",this.onHandleRelease)},onButtonPress:function(e){var t,i;"mouse"===e.pointerType&&1<e.button||(e.preventDefault(),this.handleDragActive||(this.slider.is(e.currentTarget)?(t=this.handle.offset()[this.offsetProperty]>e[this.offsetEventProperty]?-1:1,i=e[this.offsetEventProperty]-this.slider.offset()[this.offsetProperty],this.startPageScrolling(t,i)):(t=this.btnDec.is(e.currentTarget)?-1:1,this.startSmoothScrolling(t)),this.doc.on("jcf-pointerup",this.onButtonRelease)))},onButtonRelease:function(){this.stopPageScrolling(),this.stopSmoothScrolling(),this.doc.off("jcf-pointerup",this.onButtonRelease)},startPageScrolling:function(t,i){function e(){var e;n.value+=r,n.setValue(n.value),n.triggerScrollEvent(n.value),e=n.value/n.maxValue*(n.currentSliderSize-n.handleSize),(0<t?e+n.handleSize>=i:e<=i)&&clearInterval(n.pageScrollTimer)}var n=this,r=t*n.currentSize;this.pageScrollTimer=setInterval(e,this.options.scrollInterval),e()},stopPageScrolling:function(){clearInterval(this.pageScrollTimer)},startSmoothScrolling:function(t){var i,n=this;this.stopSmoothScrolling();function r(){return Date.now?Date.now():(new Date).getTime()}var s=e.requestAnimationFrame||function(e){setTimeout(e,16)},a=function(){var e=(r()-i)/1e3*n.options.scrollStep;n.smoothScrollActive&&(n.value+=e*t,n.setValue(n.value),n.triggerScrollEvent(n.value),(0<t?n.value>=n.maxValue:n.value<=0)||(i=r(),s(a)))};n.smoothScrollActive=!0,i=r(),s(a)},stopSmoothScrolling:function(){this.smoothScrollActive=!1},triggerScrollEvent:function(e){this.options.onScroll&&this.options.onScroll(e)},getThickness:function(){return this.scrollbar[this.thicknessMeasureMethod]()},setSize:function(e){var t=this.btnDec[this.fullSizeProperty](),i=this.btnInc[this.fullSizeProperty]();return this.currentSize=e,this.currentSliderSize=e-t-i,this.scrollbar.css(this.sizeProperty,e),this.slider.css(this.sizeProperty,this.currentSliderSize),this.currentSliderSize=this.slider[this.sizeProperty](),this.handleSize=Math.round(this.currentSliderSize*this.ratio),this.handle.css(this.sizeProperty,this.handleSize),this.handleSize=this.handle[this.fullSizeProperty](),this},setRatio:function(e){return this.ratio=e,this},setMaxValue:function(e){return this.maxValue=e,this.setValue(Math.min(this.value,this.maxValue)),this},setValue:function(e){this.value=e,this.value<0?this.value=0:this.value>this.maxValue&&(this.value=this.maxValue),this.refresh()},setPosition:function(e){return this.scrollbar.css(e),this},hide:function(){return this.scrollbar.detach(),this},show:function(){return this.scrollbar.appendTo(this.holder),this},refresh:function(){0===this.value||0===this.maxValue?this.calcOffset=0:this.calcOffset=this.value/this.maxValue*(this.currentSliderSize-this.handleSize),this.handle.css(this.offsetProperty,this.calcOffset),this.btnDec.toggleClass(this.options.inactiveClass,0===this.value),this.btnInc.toggleClass(this.options.inactiveClass,this.value===this.maxValue),this.scrollbar.toggleClass(this.options.inactiveClass,0===this.maxValue)},destroy:function(){this.btnDec.add(this.btnInc).off("jcf-pointerdown",this.onButtonPress),this.handle.off("jcf-pointerdown",this.onHandlePress),this.doc.off("jcf-pointermove",this.onHandleDrag),this.doc.off("jcf-pointerup",this.onHandleRelease),this.doc.off("jcf-pointerup",this.onButtonRelease),this.stopSmoothScrolling(),this.stopPageScrolling(),this.scrollbar.remove()}}),t});